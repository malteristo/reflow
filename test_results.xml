<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="24" failures="263" skipped="0" tests="1345" time="237.072" timestamp="2025-06-04T10:13:55.449197+02:00" hostname="Kermits-MacBook-Air.local"><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddExternalResultCommand" name="test_add_external_result_basic" time="3.416" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddExternalResultCommand" name="test_add_external_result_with_metadata" time="0.051"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:79: in test_add_external_result_with_metadata
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddExternalResultCommand" name="test_add_external_result_from_file" time="0.014"><failure message="assert 2 == 0&#10; +  where 2 = &lt;Result SystemExit(2)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:108: in test_add_external_result_from_file
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = &lt;Result SystemExit(2)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddExternalResultCommand" name="test_add_external_result_validation_error" time="0.012"><failure message="AssertionError: assert ('error' in '' or 'invalid' in '')&#10; +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout&#10; +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:127: in test_add_external_result_validation_error
    assert 'error' in result.stdout.lower() or 'invalid' in result.stdout.lower()
E   AssertionError: assert ('error' in '' or 'invalid' in '')
E    +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout
E    +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddResearchReportCommand" name="test_add_research_report_basic" time="0.056"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:157: in test_add_research_report_basic
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddResearchReportCommand" name="test_add_research_report_with_auto_categorization" time="0.053"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:186: in test_add_research_report_with_auto_categorization
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAddResearchReportCommand" name="test_add_research_report_batch_mode" time="0.071"><failure message="assert 'successful: 2' in &quot;[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...print' object has no attribute 'fingerprint'    \nbatch processing complete:\nprocessed: 3\nsuccessful: 0\nfailed: 3\n&quot;&#10; +  where &quot;[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...print' object has no attribute 'fingerprint'    \nbatch processing complete:\nprocessed: 3\nsuccessful: 0\nfailed: 3\n&quot; = &lt;built-in method lower of str object at 0x142f32800&gt;()&#10; +    where &lt;built-in method lower of str object at 0x142f32800&gt; = &quot;[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...print' object has no attribute 'fingerprint'    \nBatch processing complete:\nProcessed: 3\nSuccessful: 0\nFailed: 3\n&quot;.lower&#10; +      where &quot;[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...print' object has no attribute 'fingerprint'    \nBatch processing complete:\nProcessed: 3\nSuccessful: 0\nFailed: 3\n&quot; = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:220: in test_add_research_report_batch_mode
    assert 'successful: 2' in result.stdout.lower()
E   assert 'successful: 2' in "[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...print' object has no attribute 'fingerprint'    \nbatch processing complete:\nprocessed: 3\nsuccessful: 0\nfailed: 3\n"
E    +  where "[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...print' object has no attribute 'fingerprint'    \nbatch processing complete:\nprocessed: 3\nsuccessful: 0\nfailed: 3\n" = &lt;built-in method lower of str object at 0x142f32800&gt;()
E    +    where &lt;built-in method lower of str object at 0x142f32800&gt; = "[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...print' object has no attribute 'fingerprint'    \nBatch processing complete:\nProcessed: 3\nSuccessful: 0\nFailed: 3\n".lower
E    +      where "[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...print' object has no attribute 'fingerprint'    \nBatch processing complete:\nProcessed: 3\nSuccessful: 0\nFailed: 3\n" = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUpdateDocumentCommand" name="test_update_document_content" time="0.045"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:245: in test_update_document_content
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUpdateDocumentCommand" name="test_update_document_metadata_only" time="0.044"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:269: in test_update_document_metadata_only
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUpdateDocumentCommand" name="test_update_document_from_file" time="0.047"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:293: in test_update_document_from_file
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestMergeDuplicatesCommand" name="test_merge_duplicates_auto_detect" time="0.045"><failure message="assert 'merged_groups: 1' in &quot;[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...'documents'                                                 \nmerge complete:\nmerged groups: 0\ndocuments merged: 0\n&quot;&#10; +  where &quot;[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...'documents'                                                 \nmerge complete:\nmerged groups: 0\ndocuments merged: 0\n&quot; = &lt;built-in method lower of str object at 0x142efb800&gt;()&#10; +    where &lt;built-in method lower of str object at 0x142efb800&gt; = &quot;[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...'documents'                                                 \nMerge complete:\nMerged groups: 0\nDocuments merged: 0\n&quot;.lower&#10; +      where &quot;[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...'documents'                                                 \nMerge complete:\nMerged groups: 0\nDocuments merged: 0\n&quot; = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:328: in test_merge_duplicates_auto_detect
    assert 'merged_groups: 1' in result.stdout.lower()
E   assert 'merged_groups: 1' in "[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...'documents'                                                 \nmerge complete:\nmerged groups: 0\ndocuments merged: 0\n"
E    +  where "[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...'documents'                                                 \nmerge complete:\nmerged groups: 0\ndocuments merged: 0\n" = &lt;built-in method lower of str object at 0x142efb800&gt;()
E    +    where &lt;built-in method lower of str object at 0x142efb800&gt; = "[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...'documents'                                                 \nMerge complete:\nMerged groups: 0\nDocuments merged: 0\n".lower
E    +      where "[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...'documents'                                                 \nMerge complete:\nMerged groups: 0\nDocuments merged: 0\n" = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestMergeDuplicatesCommand" name="test_merge_duplicates_manual_selection" time="0.044"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:349: in test_merge_duplicates_manual_selection
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestMergeDuplicatesCommand" name="test_merge_duplicates_preview_mode" time="0.044"><failure message="AssertionError: assert 'group_id: 1' in '[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n'&#10; +  where '[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n' = &lt;built-in method lower of str object at 0x142f27c00&gt;()&#10; +    where &lt;built-in method lower of str object at 0x142f27c00&gt; = '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n'.lower&#10; +      where '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:377: in test_merge_duplicates_preview_mode
    assert 'group_id: 1' in result.stdout.lower()
E   AssertionError: assert 'group_id: 1' in '[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n'
E    +  where '[10:14:03] info     successfully loaded environment variables from              \n                    /users/kermit/c...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n' = &lt;built-in method lower of str object at 0x142f27c00&gt;()
E    +    where &lt;built-in method lower of str object at 0x142f27c00&gt; = '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n'.lower
E    +      where '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...━━━━━━━━━━╇━━━━━━━━━━━━┩\n│ 1        │ doc_001, doc_002 │ 0.950      │\n└──────────┴──────────────────┴────────────┘\n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUserFeedbackCommands" name="test_submit_feedback_positive" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUserFeedbackCommands" name="test_submit_feedback_negative" time="0.013"><failure message="AssertionError: assert 'marked_for_review' in '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/Code/reflow/.env                              \nSuccess: Feedback recorded: fb_002\n'&#10; +  where '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/Code/reflow/.env                              \nSuccess: Feedback recorded: fb_002\n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:429: in test_submit_feedback_negative
    assert 'marked_for_review' in result.stdout
E   AssertionError: assert 'marked_for_review' in '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/Code/reflow/.env                              \nSuccess: Feedback recorded: fb_002\n'
E    +  where '[10:14:03] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/Code/reflow/.env                              \nSuccess: Feedback recorded: fb_002\n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUserFeedbackCommands" name="test_feedback_analytics" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestUserFeedbackCommands" name="test_feedback_export" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAugmentationCommandValidation" name="test_add_external_result_missing_required_args" time="0.011"><failure message="AssertionError: assert ('required' in '' or 'missing' in '')&#10; +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout&#10; +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:489: in test_add_external_result_missing_required_args
    assert 'required' in result.stdout.lower() or 'missing' in result.stdout.lower()
E   AssertionError: assert ('required' in '' or 'missing' in '')
E    +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout
E    +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAugmentationCommandValidation" name="test_update_document_invalid_document_id" time="0.043" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAugmentationCommandValidation" name="test_merge_duplicates_invalid_threshold" time="0.044" /><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAugmentationCommandValidation" name="test_feedback_invalid_rating" time="0.012"><failure message="AssertionError: assert ('rating' in '' or 'invalid' in '')&#10; +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout&#10; +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()&#10; +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower&#10; +      where '' = &lt;Result SystemExit(2)&gt;.stdout">src/research_agent_backend/tests/cli/test_augmentation_commands.py:521: in test_feedback_invalid_rating
    assert 'rating' in result.stdout.lower() or 'invalid' in result.stdout.lower()
E   AssertionError: assert ('rating' in '' or 'invalid' in '')
E    +  where '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout
E    +  and   '' = &lt;built-in method lower of str object at 0x102cb3f08&gt;()
E    +    where &lt;built-in method lower of str object at 0x102cb3f08&gt; = ''.lower
E    +      where '' = &lt;Result SystemExit(2)&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_augmentation_commands.TestAugmentationCommandIntegration" name="test_end_to_end_external_result_workflow" time="0.045"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/cli/test_augmentation_commands.py:563: in test_end_to_end_external_result_workflow
    assert result1.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySearchCommand" name="test_search_basic_query" time="0.015"><failure message="AssertionError: assert '0.92' in '                      Search Results for: machine learning                      \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'&#10; +  where '                      Search Results for: machine learning                      \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_query_commands.py:83: in test_search_basic_query
    assert '0.92' in result.stdout
E   AssertionError: assert '0.92' in '                      Search Results for: machine learning                      \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'
E    +  where '                      Search Results for: machine learning                      \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySearchCommand" name="test_search_with_collections_filter" time="0.012"><failure message="AssertionError: Expected 'similarity_search' to have been called.">src/research_agent_backend/tests/cli/test_query_commands.py:102: in test_search_with_collections_filter
    mock_query_manager_instance.similarity_search.assert_called()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:908: in assert_called
    raise AssertionError(msg)
E   AssertionError: Expected 'similarity_search' to have been called.</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySearchCommand" name="test_search_with_reranking_disabled" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySearchCommand" name="test_search_error_handling" time="0.012"><failure message="AssertionError: assert (0 != 0 or 'error' in '                         search results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n')&#10; +  where 0 = &lt;Result okay&gt;.exit_code&#10; +  and   '                         search results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n' = &lt;built-in method lower of str object at 0x1409fa800&gt;()&#10; +    where &lt;built-in method lower of str object at 0x1409fa800&gt; = '                         Search Results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'.lower&#10; +      where '                         Search Results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_query_commands.py:131: in test_search_error_handling
    assert result.exit_code != 0 or "error" in result.stdout.lower()
E   AssertionError: assert (0 != 0 or 'error' in '                         search results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n')
E    +  where 0 = &lt;Result okay&gt;.exit_code
E    +  and   '                         search results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n' = &lt;built-in method lower of str object at 0x1409fa800&gt;()
E    +    where &lt;built-in method lower of str object at 0x1409fa800&gt; = '                         Search Results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'.lower
E    +      where '                         Search Results for: test query                         \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryAskCommand" name="test_ask_basic_question" time="0.012" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryAskCommand" name="test_ask_with_collections" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryAskCommand" name="test_ask_without_sources" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryInteractiveCommand" name="test_interactive_session_basic" time="0.012" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryInteractiveCommand" name="test_interactive_with_refinement" time="0.012" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryInteractiveCommand" name="test_interactive_with_collections" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryRefineCommand" name="test_refine_basic" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryRefineCommand" name="test_refine_with_collections" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySimilarCommand" name="test_find_similar_basic" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQuerySimilarCommand" name="test_find_similar_same_collection_only" time="0.012" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryExplainCommand" name="test_explain_result_basic" time="0.011" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryHistoryCommand" name="test_query_history_basic" time="0.016" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryHistoryCommand" name="test_query_history_with_search" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryCommandIntegration" name="test_end_to_end_search_flow" time="0.013" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryCommandIntegration" name="test_error_handling_across_commands" time="0.012"><failure message="AssertionError: assert (0 != 0 or 'error' in '                            search results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n')&#10; +  where 0 = &lt;Result okay&gt;.exit_code&#10; +  and   '                            search results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n' = &lt;built-in method lower of str object at 0x1599f8400&gt;()&#10; +    where &lt;built-in method lower of str object at 0x1599f8400&gt; = '                            Search Results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'.lower&#10; +      where '                            Search Results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/cli/test_query_commands.py:450: in test_error_handling_across_commands
    assert result.exit_code != 0 or "error" in result.stdout.lower()
E   AssertionError: assert (0 != 0 or 'error' in '                            search results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n')
E    +  where 0 = &lt;Result okay&gt;.exit_code
E    +  and   '                            search results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nfound 1 results\n' = &lt;built-in method lower of str object at 0x1599f8400&gt;()
E    +    where &lt;built-in method lower of str object at 0x1599f8400&gt; = '                            Search Results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n'.lower
E    +      where '                            Search Results for: test                            \n┏┳━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━...              │\n└┴──────┴──────────────────────────────────────────────────────┴───────────────┘\n\nFound 1 results\n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryCommandConfiguration" name="test_query_commands_load_config" time="0.012" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryCommandConfiguration" name="test_query_commands_help_text" time="0.014" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryUtilityFunctions" name="test_format_search_results" time="0.000" /><testcase classname="src.research_agent_backend.tests.cli.test_query_commands.TestQueryUtilityFunctions" name="test_parse_collections_parameter" time="0.000" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestEndToEndWorkflows" name="test_complete_document_ingestion_pipeline" time="0.102" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestEndToEndWorkflows" name="test_collection_lifecycle_workflow" time="0.093" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestEndToEndWorkflows" name="test_cross_component_data_flow" time="0.108" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestPerformanceAndLoadTesting" name="test_bulk_insertion_performance_benchmarks" time="0.098" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestPerformanceAndLoadTesting" name="test_concurrent_query_load_handling" time="0.022" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestPerformanceAndLoadTesting" name="test_memory_resource_management" time="0.444" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestErrorHandlingAndEdgeCases" name="test_database_connection_failure_recovery" time="0.095" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestErrorHandlingAndEdgeCases" name="test_invalid_document_cross_component_handling" time="0.096" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestErrorHandlingAndEdgeCases" name="test_resource_exhaustion_handling" time="0.363" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestCrossComponentIntegration" name="test_chromadb_query_manager_integration" time="0.092"><failure message="TypeError: 'HealthStatus' object is not subscriptable">src/research_agent_backend/tests/integration/test_comprehensive_integration.py:551: in test_chromadb_query_manager_integration
    assert health_status["status"] == "healthy"
E   TypeError: 'HealthStatus' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestCrossComponentIntegration" name="test_data_preparation_insertion_workflow" time="0.080" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestCrossComponentIntegration" name="test_collection_type_manager_system_integration" time="0.077" /><testcase classname="src.research_agent_backend.tests.integration.test_comprehensive_integration.TestCrossComponentIntegration" name="test_configuration_system_cross_component" time="0.120"><failure message="TypeError: 'HealthStatus' object is not subscriptable">src/research_agent_backend/tests/integration/test_comprehensive_integration.py:629: in test_configuration_system_cross_component
    assert health_status["status"] == "healthy"
E   TypeError: 'HealthStatus' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerProjectIntegration" name="test_load_real_project_config" time="0.005" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerProjectIntegration" name="test_validate_real_project_config" time="0.007" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerProjectIntegration" name="test_config_with_environment_variables" time="0.004" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerProjectIntegration" name="test_config_diagnostics_on_real_project" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerProjectIntegration" name="test_config_summary_on_real_project" time="0.004" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerErrorScenarios" name="test_missing_config_file_error" time="0.003" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerErrorScenarios" name="test_schema_validation_with_invalid_config" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerErrorScenarios" name="test_environment_variable_error_handling" time="0.001"><failure message="Failed: Environment variable error handling failed: 'ConfigManager' object has no attribute '_apply_environment_overrides'">src/research_agent_backend/tests/integration/test_config_integration.py:227: in test_environment_variable_error_handling
    result = config_manager._apply_environment_overrides({"logging": {"level": "INFO"}})
E   AttributeError: 'ConfigManager' object has no attribute '_apply_environment_overrides'

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/integration/test_config_integration.py:231: in test_environment_variable_error_handling
    pytest.fail(f"Environment variable error handling failed: {e}")
E   Failed: Environment variable error handling failed: 'ConfigManager' object has no attribute '_apply_environment_overrides'</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerPerformance" name="test_config_loading_performance" time="0.004" /><testcase classname="src.research_agent_backend.tests.integration.test_config_integration.TestConfigManagerPerformance" name="test_cached_config_access" time="0.015"><failure message="AssertionError: 100 cached accesses took 0.011 seconds&#10;assert 0.010919809341430664 &lt; 0.01">src/research_agent_backend/tests/integration/test_config_integration.py:293: in test_cached_config_access
    assert access_time &lt; 0.01, f"100 cached accesses took {access_time:.3f} seconds"
E   AssertionError: 100 cached accesses took 0.011 seconds
E   assert 0.010919809341430664 &lt; 0.01</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_complete_document_ingestion_workflow" time="0.015" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_end_to_end_search_workflow" time="0.028" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_large_document_set_performance" time="0.137" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_configuration_driven_chunking_strategies" time="0.055" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_cross_module_data_consistency" time="0.027" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestDocumentProcessingPipeline" name="test_error_handling_across_pipeline" time="0.016" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestComponentIntegration" name="test_vector_store_data_preparation_integration" time="0.013" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestComponentIntegration" name="test_collection_manager_vector_store_integration" time="0.013" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestComponentIntegration" name="test_configuration_manager_pipeline_integration" time="0.015" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestPerformanceBenchmarks" name="test_concurrent_document_processing" time="0.145" /><testcase classname="src.research_agent_backend.tests.integration.test_document_processing_pipeline.TestPerformanceBenchmarks" name="test_memory_usage_patterns" time="0.082" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_model_integration_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_get_current_model_fingerprint" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_get_model_fingerprint_without_service" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_get_model_fingerprint_fallback" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_register_current_model" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_check_for_model_changes_no_change" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_check_for_model_changes_with_change" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_enhance_chunk_with_model_info" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_should_invalidate_chunks_no_change" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegration" name="test_should_invalidate_chunks_with_change" time="0.003" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_pipeline_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_chunk_text_with_model_tracking" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_chunk_text_with_model_change_detection" time="0.003" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_invalidate_cache_if_needed" time="0.003" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_get_model_status" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestChunkingPipelineWithModelDetection" name="test_chunk_document_sections" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegrationEdgeCases" name="test_integration_with_failing_embedding_service" time="0.002" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegrationEdgeCases" name="test_chunk_enhancement_without_fingerprint" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_model_change_integration.TestModelChangeIntegrationEdgeCases" name="test_invalidation_with_mixed_chunk_types" time="0.001" /><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestEndToEndRAGPipelineIntegration" name="test_complete_query_flow_with_caching" time="2.097" /><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestEndToEndRAGPipelineIntegration" name="test_multi_collection_query_with_cache_coordination" time="0.355" /><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestEndToEndRAGPipelineIntegration" name="test_document_update_with_cache_invalidation" time="0.167" /><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestEndToEndRAGPipelineIntegration" name="test_error_handling_with_cache_fallbacks" time="0.071"><failure message="AssertionError: Should use cache-only result&#10;assert False == True&#10; +  where False = IntegrationResult(success=True, message='Query executed successfully', documents_processed=0, cache_populated=False, r...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).cache_only_result">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:202: in test_error_handling_with_cache_fallbacks
    assert result.cache_only_result == True, "Should use cache-only result"
E   AssertionError: Should use cache-only result
E   assert False == True
E    +  where False = IntegrationResult(success=True, message='Query executed successfully', documents_processed=0, cache_populated=False, r...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).cache_only_result</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestCacheIntegrationValidation" name="test_embedding_cache_integration" time="0.035"><failure message="AttributeError: 'LocalEmbeddingService' object has no attribute 'get_model_fingerprint'">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:239: in test_embedding_cache_integration
    model_fingerprint = embedding_service.get_model_fingerprint()
E   AttributeError: 'LocalEmbeddingService' object has no attribute 'get_model_fingerprint'</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestCacheIntegrationValidation" name="test_query_cache_integration_with_rag_pipeline" time="0.113"><failure message="KeyError: 'unique_queries'">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:272: in test_query_cache_integration_with_rag_pipeline
    assert query_cache_stats['unique_queries'] &gt;= 2, "Should track unique queries"
E   KeyError: 'unique_queries'</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestCacheIntegrationValidation" name="test_batch_processing_integration" time="0.033"><failure message="AssertionError: Batch ingestion should succeed&#10;assert False == True&#10; +  where False = IntegrationResult(success=False, message='', documents_processed=0, cache_populated=False, response_time=0.03161001205...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).success">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:288: in test_batch_processing_integration
    assert batch_result.success == True, "Batch ingestion should succeed"
E   AssertionError: Batch ingestion should succeed
E   assert False == True
E    +  where False = IntegrationResult(success=False, message='', documents_processed=0, cache_populated=False, response_time=0.03161001205...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).success</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestCacheIntegrationValidation" name="test_lazy_loading_integration" time="0.001"><failure message="AssertionError: Should load components on demand&#10;assert 0 &gt; 0">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:314: in test_lazy_loading_integration
    assert initialization_stats['components_loaded_on_demand'] &gt; 0, "Should load components on demand"
E   AssertionError: Should load components on demand
E   assert 0 &gt; 0</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestPerformanceIntegrationTesting" name="test_end_to_end_performance_optimization" time="0.612"><failure message="AssertionError: Should use reasonable memory&#10;assert 667.90625 &lt; 500">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:377: in test_end_to_end_performance_optimization
    assert memory_stats['peak_memory_mb'] &lt; 500, "Should use reasonable memory"
E   AssertionError: Should use reasonable memory
E   assert 667.90625 &lt; 500</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestPerformanceIntegrationTesting" name="test_concurrent_user_performance_integration" time="1.199" /><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestPerformanceIntegrationTesting" name="test_memory_usage_stability_integration" time="2.194"><failure message="KeyError: 'cache_size_stable'">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:488: in test_memory_usage_stability_integration
    assert cache_stats['cache_size_stable'] == True, "Cache sizes should be stable"
E   KeyError: 'cache_size_stable'</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestSystemStabilityAndCorrectness" name="test_cache_consistency_validation" time="0.126"><failure message="AssertionError: Should reflect document update&#10;assert False == True&#10; +  where False = IntegrationResult(success=True, message='Query executed successfully', documents_processed=0, cache_populated=False, r...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).content_reflects_update">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:531: in test_cache_consistency_validation
    assert post_update_query.content_reflects_update == True, "Should reflect document update"
E   AssertionError: Should reflect document update
E   assert False == True
E    +  where False = IntegrationResult(success=True, message='Query executed successfully', documents_processed=0, cache_populated=False, r...batch_optimization_used=False, parallel_processing_used=False, documents_per_second=0.0, content_reflects_update=False).content_reflects_update</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestSystemStabilityAndCorrectness" name="test_resource_cleanup_and_leak_prevention" time="1.372"><failure message="AssertionError: Should limit thread count&#10;assert 164 &lt; 20">src/research_agent_backend/tests/integration/test_rag_pipeline_integration.py:557: in test_resource_cleanup_and_leak_prevention
    assert peak_resources['thread_count'] &lt; 20, "Should limit thread count"
E   AssertionError: Should limit thread count
E   assert 164 &lt; 20</failure></testcase><testcase classname="src.research_agent_backend.tests.integration.test_rag_pipeline_integration.TestSystemStabilityAndCorrectness" name="test_thread_safety_validation" time="0.356" /><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_complete_document_lifecycle_workflow" time="0.002"><failure message="NotImplementedError: Real-world scenario setup not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:111: in test_complete_document_lifecycle_workflow
    scenario_data = self.framework.setup_real_world_scenario("document_lifecycle")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:79: in setup_real_world_scenario
    raise NotImplementedError("Real-world scenario setup not implemented")
E   NotImplementedError: Real-world scenario setup not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_complete_document_lifecycle_workflow" time="0.007"><error message="failed on teardown with &quot;NotImplementedError: All scenarios cleanup not implemented&quot;">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:106: in teardown_method
    self.framework.cleanup_all_scenarios()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:94: in cleanup_all_scenarios
    raise NotImplementedError("All scenarios cleanup not implemented")
E   NotImplementedError: All scenarios cleanup not implemented</error></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_research_workflow_simulation" time="0.006"><failure message="NotImplementedError: Real-world scenario setup not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:158: in test_research_workflow_simulation
    scenario_data = self.framework.setup_real_world_scenario("research_simulation")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:79: in setup_real_world_scenario
    raise NotImplementedError("Real-world scenario setup not implemented")
E   NotImplementedError: Real-world scenario setup not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_research_workflow_simulation" time="0.000"><error message="failed on teardown with &quot;NotImplementedError: All scenarios cleanup not implemented&quot;">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:106: in teardown_method
    self.framework.cleanup_all_scenarios()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:94: in cleanup_all_scenarios
    raise NotImplementedError("All scenarios cleanup not implemented")
E   NotImplementedError: All scenarios cleanup not implemented</error></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_collaborative_knowledge_base_workflow" time="0.000"><failure message="NotImplementedError: Real-world scenario setup not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:208: in test_collaborative_knowledge_base_workflow
    scenario_data = self.framework.setup_real_world_scenario("collaborative_kb")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:79: in setup_real_world_scenario
    raise NotImplementedError("Real-world scenario setup not implemented")
E   NotImplementedError: Real-world scenario setup not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_collaborative_knowledge_base_workflow" time="0.000"><error message="failed on teardown with &quot;NotImplementedError: All scenarios cleanup not implemented&quot;">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:106: in teardown_method
    self.framework.cleanup_all_scenarios()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:94: in cleanup_all_scenarios
    raise NotImplementedError("All scenarios cleanup not implemented")
E   NotImplementedError: All scenarios cleanup not implemented</error></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_production_deployment_simulation" time="0.000"><failure message="NotImplementedError: Real-world scenario setup not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:270: in test_production_deployment_simulation
    scenario_data = self.framework.setup_real_world_scenario("production_deployment")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:79: in setup_real_world_scenario
    raise NotImplementedError("Real-world scenario setup not implemented")
E   NotImplementedError: Real-world scenario setup not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestEndToEndWorkflows" name="test_production_deployment_simulation" time="0.000"><error message="failed on teardown with &quot;NotImplementedError: All scenarios cleanup not implemented&quot;">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:106: in teardown_method
    self.framework.cleanup_all_scenarios()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:94: in cleanup_all_scenarios
    raise NotImplementedError("All scenarios cleanup not implemented")
E   NotImplementedError: All scenarios cleanup not implemented</error></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestRegressionValidation" name="test_document_ingestion_regression" time="0.000"><failure message="NotImplementedError: Baseline metrics loading not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:366: in test_document_ingestion_regression
    baseline = self._load_baseline_metrics("document_ingestion")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:432: in _load_baseline_metrics
    raise NotImplementedError("Baseline metrics loading not implemented")
E   NotImplementedError: Baseline metrics loading not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestRegressionValidation" name="test_query_performance_regression" time="0.000"><failure message="NotImplementedError: Baseline metrics loading not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:385: in test_query_performance_regression
    baseline = self._load_baseline_metrics("query_performance")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:432: in _load_baseline_metrics
    raise NotImplementedError("Baseline metrics loading not implemented")
E   NotImplementedError: Baseline metrics loading not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestRegressionValidation" name="test_memory_usage_regression" time="0.000"><failure message="NotImplementedError: Baseline metrics loading not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:400: in test_memory_usage_regression
    baseline = self._load_baseline_metrics("memory_usage")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:432: in _load_baseline_metrics
    raise NotImplementedError("Baseline metrics loading not implemented")
E   NotImplementedError: Baseline metrics loading not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestRegressionValidation" name="test_overall_system_performance_regression" time="0.000"><failure message="NotImplementedError: Baseline metrics loading not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:415: in test_overall_system_performance_regression
    baseline = self._load_baseline_metrics("system_performance")
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:432: in _load_baseline_metrics
    raise NotImplementedError("Baseline metrics loading not implemented")
E   NotImplementedError: Baseline metrics loading not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestLoadTestingFramework" name="test_production_load_simulation" time="0.000"><failure message="NotImplementedError: Production load scenario creation not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:481: in test_production_load_simulation
    load_scenario = self._create_production_load_scenario()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:521: in _create_production_load_scenario
    raise NotImplementedError("Production load scenario creation not implemented")
E   NotImplementedError: Production load scenario creation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestLoadTestingFramework" name="test_spike_load_handling" time="0.000"><failure message="NotImplementedError: Spike load scenario creation not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:498: in test_spike_load_handling
    spike_scenario = self._create_spike_load_scenario()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:531: in _create_spike_load_scenario
    raise NotImplementedError("Spike load scenario creation not implemented")
E   NotImplementedError: Spike load scenario creation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_end_to_end_workflows.TestLoadTestingFramework" name="test_sustained_load_endurance" time="0.000"><failure message="NotImplementedError: Endurance load scenario creation not implemented">src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:509: in test_sustained_load_endurance
    endurance_scenario = self._create_endurance_load_scenario()
src/research_agent_backend/tests/performance/test_end_to_end_workflows.py:541: in _create_endurance_load_scenario
    raise NotImplementedError("Endurance load scenario creation not implemented")
E   NotImplementedError: Endurance load scenario creation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestLargeDocumentCollectionBenchmarks" name="test_large_document_ingestion_performance" time="0.119"><failure message="AttributeError: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch'">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:114: in test_large_document_ingestion_performance
    results = insertion_manager.insert_documents_batch(large_documents)
E   AttributeError: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch'</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestLargeDocumentCollectionBenchmarks" name="test_massive_document_collection_scalability" time="0.120"><failure message="AttributeError: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch_scalable'">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:139: in test_massive_document_collection_scalability
    results = insertion_manager.insert_documents_batch_scalable(massive_documents)
E   AttributeError: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch_scalable'</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestLargeDocumentCollectionBenchmarks" name="test_document_size_variation_performance" time="0.242"><failure message="research_agent_backend.core.document_insertion.exceptions.TransactionError: Document insertion failed in batch 1, rolling back transaction: Unexpected error during document insertion: 'str' object has no attribute 'isoformat'">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:168: in test_document_size_variation_performance
    results = insertion_manager.insert_batch(documents, collection_name="size_test_collection")
src/research_agent_backend/core/document_insertion/manager.py:639: in insert_batch
    raise TransactionError(
E   research_agent_backend.core.document_insertion.exceptions.TransactionError: Document insertion failed in batch 1, rolling back transaction: Unexpected error during document insertion: 'str' object has no attribute 'isoformat'</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestLargeDocumentCollectionBenchmarks" name="test_collection_query_performance_at_scale" time="0.053"><failure message="RuntimeError: Failed to setup large test collection: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch'">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:402: in _setup_large_test_collection
    insertion_manager.insert_documents_batch(batch)
E   AttributeError: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch'

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:181: in test_collection_query_performance_at_scale
    self._setup_large_test_collection(collection_size)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:405: in _setup_large_test_collection
    raise RuntimeError(f"Failed to setup large test collection: {e}")
E   RuntimeError: Failed to setup large test collection: 'DocumentInsertionManager' object has no attribute 'insert_documents_batch'</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestConcurrentOperationsStressTesting" name="test_concurrent_document_ingestion_stress" time="0.088"><failure message="NotImplementedError: Thread-specific document generation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:791: in test_concurrent_document_ingestion_stress
    documents = self._generate_thread_documents(thread_id, documents_per_thread)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:920: in _generate_thread_documents
    raise NotImplementedError("Thread-specific document generation not implemented")
E   NotImplementedError: Thread-specific document generation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestConcurrentOperationsStressTesting" name="test_concurrent_query_stress_testing" time="0.001"><failure message="NotImplementedError: Stress test collection setup not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:814: in test_concurrent_query_stress_testing
    self._setup_stress_test_collection()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:930: in _setup_stress_test_collection
    raise NotImplementedError("Stress test collection setup not implemented")
E   NotImplementedError: Stress test collection setup not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestConcurrentOperationsStressTesting" name="test_mixed_operations_stress_testing" time="15.114"><failure message="NotImplementedError: Continuous ingestion execution not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:877: in test_mixed_operations_stress_testing
    result = future.result()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:449: in result
    return self.__get_result()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:940: in _execute_continuous_ingestion
    raise NotImplementedError("Continuous ingestion execution not implemented")
E   NotImplementedError: Continuous ingestion execution not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestConcurrentOperationsStressTesting" name="test_resource_exhaustion_recovery" time="0.088"><failure message="NotImplementedError: Memory pressure simulation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:904: in test_resource_exhaustion_recovery
    recovery_data = simulator()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:950: in _simulate_memory_pressure
    raise NotImplementedError("Memory pressure simulation not implemented")
E   NotImplementedError: Memory pressure simulation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestFileFormatAndSizeValidation" name="test_markdown_file_size_variations" time="0.084"><failure message="NotImplementedError: Markdown content generation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:987: in test_markdown_file_size_variations
    markdown_content = self._generate_markdown_content(byte_size)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1107: in _generate_markdown_content
    raise NotImplementedError("Markdown content generation not implemented")
E   NotImplementedError: Markdown content generation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestFileFormatAndSizeValidation" name="test_text_file_format_handling" time="0.086"><failure message="NotImplementedError: Plain text generation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1023: in test_text_file_format_handling
    content = generator(5000)  # 5KB target size
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1117: in _generate_plain_text
    raise NotImplementedError("Plain text generation not implemented")
E   NotImplementedError: Plain text generation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestFileFormatAndSizeValidation" name="test_large_file_streaming_performance" time="0.085"><failure message="NotImplementedError: File streaming testing not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1057: in test_large_file_streaming_performance
    streaming_result = self._test_file_streaming(file_size, scenario_name)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1152: in _test_file_streaming
    raise NotImplementedError("File streaming testing not implemented")
E   NotImplementedError: File streaming testing not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestFileFormatAndSizeValidation" name="test_batch_file_processing_efficiency" time="0.086"><failure message="NotImplementedError: File batch generation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1085: in test_batch_file_processing_efficiency
    file_batch = self._generate_file_batch(file_count, file_size)
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1157: in _generate_file_batch
    raise NotImplementedError("File batch generation not implemented")
E   NotImplementedError: File batch generation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestMemoryResourceValidation" name="test_memory_usage_patterns_validation" time="0.084"><failure message="NotImplementedError: Idle memory usage testing not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1208: in test_memory_usage_patterns_validation
    scenario_result = test_function()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1313: in _test_idle_memory_usage
    raise NotImplementedError("Idle memory usage testing not implemented")
E   NotImplementedError: Idle memory usage testing not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestMemoryResourceValidation" name="test_memory_leak_detection" time="0.085"><failure message="NotImplementedError: Potential leak operation not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1234: in test_memory_leak_detection
    self._execute_potential_leak_operation()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1348: in _execute_potential_leak_operation
    raise NotImplementedError("Potential leak operation not implemented")
E   NotImplementedError: Potential leak operation not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestMemoryResourceValidation" name="test_resource_consumption_monitoring" time="0.083"><failure message="NotImplementedError: CPU usage monitoring not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1271: in test_resource_consumption_monitoring
    resource_data = monitor_function()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1358: in _monitor_cpu_usage
    raise NotImplementedError("CPU usage monitoring not implemented")
E   NotImplementedError: CPU usage monitoring not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.performance.test_performance_benchmarks.TestMemoryResourceValidation" name="test_garbage_collection_efficiency" time="0.085"><failure message="NotImplementedError: Manual GC impact testing not implemented">src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1298: in test_garbage_collection_efficiency
    gc_result = gc_test()
src/research_agent_backend/tests/performance/test_performance_benchmarks.py:1393: in _test_manual_gc_impact
    raise NotImplementedError("Manual GC impact testing not implemented")
E   NotImplementedError: Manual GC impact testing not implemented</failure></testcase><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeConfig" name="test_collection_type_config_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeConfig" name="test_to_chromadb_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeConfig" name="test_create_collection_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_get_collection_config_with_enum" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_get_collection_config_with_string" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_get_collection_config_unknown_type" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_determine_collection_type_reference" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_determine_collection_type_fundamental" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_determine_collection_type_project_specific" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_determine_collection_type_temporary" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_determine_collection_type_general_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_create_collection_name_basic" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_create_collection_name_project_specific" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_create_collection_name_with_suffix" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_create_collection_name_sanitization" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_validate_collection_for_type_valid" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_validate_collection_for_type_invalid" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_get_collection_summary" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeManager" name="test_load_custom_configurations" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestFactoryFunction" name="test_create_collection_type_manager_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestFactoryFunction" name="test_create_collection_type_manager_with_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_collection_type_manager.TestCollectionTypeIntegration" name="test_end_to_end_collection_workflow" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_config_runner" name="test_basic_config_loading" time="0.006" /><testcase classname="src.research_agent_backend.tests.test_config_runner" name="test_environment_variable_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_config_runner" name="test_configuration_merging" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningConfig" name="test_default_config_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningConfig" name="test_custom_config_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationConfig" name="test_default_normalization_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationConfig" name="test_custom_normalization_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionConfig" name="test_default_dimensionality_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionConfig" name="test_custom_dimensionality_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationResult" name="test_result_creation_and_properties" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationResult" name="test_result_empty_case" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_service_initialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_text_basic_cleaning" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_text_edge_cases" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_text_unicode_normalization" time="0.000"><failure message="assert None is not None">src/research_agent_backend/tests/test_data_preparation.py:254: in test_clean_text_unicode_normalization
    assert cleaned is not None
E   assert None is not None</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_text_max_length_filtering" time="0.000"><failure message="AssertionError: assert 'This is a very long' is None&#10; +  where 'This is a very long' = clean_text('This is a very long text that exceeds the maximum length limit')&#10; +    where clean_text = &lt;src.research_agent_backend.core.data_preparation.cleaning.DataCleaningService object at 0x14318bdd0&gt;.clean_text">src/research_agent_backend/tests/test_data_preparation.py:268: in test_clean_text_max_length_filtering
    assert service.clean_text(long_text) is None
E   AssertionError: assert 'This is a very long' is None
E    +  where 'This is a very long' = clean_text('This is a very long text that exceeds the maximum length limit')
E    +    where clean_text = &lt;src.research_agent_backend.core.data_preparation.cleaning.DataCleaningService object at 0x14318bdd0&gt;.clean_text</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_metadata_basic" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_metadata_field_standardization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataCleaningService" name="test_clean_metadata_with_defaults" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_service_initialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_embeddings_unit_vector" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_embeddings_min_max" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_embeddings_z_score" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_embeddings_robust" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_embeddings_none_method" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestNormalizationService" name="test_normalize_numerical_metadata" time="0.000"><failure message="assert [10.0, 20.0, 30.0] != [10, 20, 30]">src/research_agent_backend/tests/test_data_preparation.py:434: in test_normalize_numerical_metadata
    assert scores != original_scores
E   assert [10.0, 20.0, 30.0] != [10, 20, 30]</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionService" name="test_service_initialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionService" name="test_reduce_dimensions_none_method" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionService" name="test_reduce_dimensions_pca" time="0.000"><failure message="AttributeError: &lt;module 'src.research_agent_backend.core.data_preparation' from '/Users/kermit/Code/reflow/src/research_agent_backend/core/data_preparation/__init__.py'&gt; does not have the attribute 'PCA'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'src.research_agent_backend.core.data_preparation' from '/Users/kermit/Code/reflow/src/research_agent_backend/core/data_preparation/__init__.py'&gt; does not have the attribute 'PCA'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDimensionalityReductionService" name="test_reduce_dimensions_invalid_method" time="0.001"><failure message="Failed: DID NOT RAISE (&lt;class 'ValueError'&gt;, &lt;class 'NotImplementedError'&gt;)">src/research_agent_backend/tests/test_data_preparation.py:488: in test_reduce_dimensions_invalid_method
    with pytest.raises((ValueError, NotImplementedError)):
E   Failed: DID NOT RAISE (&lt;class 'ValueError'&gt;, &lt;class 'NotImplementedError'&gt;)</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_manager_initialization" time="0.005" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_manager_initialization_with_custom_configs" time="0.005" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_single_document" time="0.005" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_single_document_edge_cases" time="0.004" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_documents_batch" time="0.006" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_documents_with_filtering" time="0.005"><failure message="AssertionError: assert 1 &gt;= 2&#10; +  where 1 = DataPreparationResult(cleaned_texts=['This is a good document with sufficient length.', 'Another good document that me...nt=0, duplicate_removed=0, empty_removed=1, invalid_removed=0, processing_time_seconds=4.4e-05, warnings=[], errors=[]).filtered_count">src/research_agent_backend/tests/test_data_preparation.py:607: in test_prepare_documents_with_filtering
    assert result.filtered_count &gt;= 2   # At least 2 filtered out
E   AssertionError: assert 1 &gt;= 2
E    +  where 1 = DataPreparationResult(cleaned_texts=['This is a good document with sufficient length.', 'Another good document that me...nt=0, duplicate_removed=0, empty_removed=1, invalid_removed=0, processing_time_seconds=4.4e-05, warnings=[], errors=[]).filtered_count</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_documents_collection_type_config" time="0.006" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestDataPreparationManager" name="test_prepare_documents_batch_processing" time="0.005" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestUtilityFunctions" name="test_create_data_preparation_manager_defaults" time="0.004" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestUtilityFunctions" name="test_create_data_preparation_manager_with_config_file" time="0.004" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestUtilityFunctions" name="test_create_data_preparation_manager_with_overrides" time="0.004" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestIntegrationScenarios" name="test_research_document_preparation_workflow" time="0.008" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestIntegrationScenarios" name="test_code_documentation_preparation_workflow" time="0.007" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestIntegrationScenarios" name="test_mixed_content_preparation_with_errors" time="0.007" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestPerformanceAndEdgeCases" name="test_large_batch_processing" time="0.065" /><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestPerformanceAndEdgeCases" name="test_memory_efficiency_with_large_embeddings" time="0.005"><failure message="assert (1, 1024) == (10, 1024)&#10;  &#10;  At index 0 diff: 1 != 10&#10;  Use -v to get more diff">src/research_agent_backend/tests/test_data_preparation.py:834: in test_memory_efficiency_with_large_embeddings
    assert result.normalized_embeddings.shape == large_embeddings.shape
E   assert (1, 1024) == (10, 1024)
E     
E     At index 0 diff: 1 != 10
E     Use -v to get more diff</failure></testcase><testcase classname="src.research_agent_backend.tests.test_data_preparation.TestPerformanceAndEdgeCases" name="test_unicode_and_encoding_handling" time="0.005" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestDocumentInsertionManager" name="test_initialization_with_valid_dependencies" time="0.001"><failure message="ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5710372432'&gt;">src/research_agent_backend/tests/test_document_insertion.py:46: in test_initialization_with_valid_dependencies
    manager = DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:152: in __post_init__
    raise ValueError(f"chunk_size must be positive integer, got: {self.chunk_size}")
E   ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5710372432'&gt;</failure></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestDocumentInsertionManager" name="test_initialization_with_missing_dependencies" time="0.014"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">src/research_agent_backend/tests/test_document_insertion.py:60: in test_initialization_with_missing_dependencies
    with pytest.raises(ValueError, match="vector_store is required"):
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestDocumentInsertionManager" name="test_initialization_with_default_config" time="0.011" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestSingleDocumentInsertion" name="test_insert_single_document_success" time="0.001"><error message="failed on setup with &quot;ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5424212752'&gt;&quot;">src/research_agent_backend/tests/test_document_insertion.py:90: in insertion_manager
    return DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:152: in __post_init__
    raise ValueError(f"chunk_size must be positive integer, got: {self.chunk_size}")
E   ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5424212752'&gt;</error></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestSingleDocumentInsertion" name="test_insert_document_with_chunking" time="0.001"><error message="failed on setup with &quot;ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5421072912'&gt;&quot;">src/research_agent_backend/tests/test_document_insertion.py:90: in insertion_manager
    return DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:152: in __post_init__
    raise ValueError(f"chunk_size must be positive integer, got: {self.chunk_size}")
E   ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5421072912'&gt;</error></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestSingleDocumentInsertion" name="test_insert_document_validation_failure" time="0.001"><error message="failed on setup with &quot;ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5420472016'&gt;&quot;">src/research_agent_backend/tests/test_document_insertion.py:90: in insertion_manager
    return DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:152: in __post_init__
    raise ValueError(f"chunk_size must be positive integer, got: {self.chunk_size}")
E   ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5420472016'&gt;</error></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestSingleDocumentInsertion" name="test_insert_document_embedding_failure" time="0.001"><error message="failed on setup with &quot;ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5423302160'&gt;&quot;">src/research_agent_backend/tests/test_document_insertion.py:90: in insertion_manager
    return DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:152: in __post_init__
    raise ValueError(f"chunk_size must be positive integer, got: {self.chunk_size}")
E   ValueError: chunk_size must be positive integer, got: &lt;Mock name='mock.get()' id='5423302160'&gt;</error></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestBatchDocumentInsertion" name="test_batch_insertion_success" time="0.016" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestBatchDocumentInsertion" name="test_batch_insertion_with_transaction_rollback" time="0.015" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestBatchDocumentInsertion" name="test_batch_insertion_progress_tracking" time="0.025" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestBatchDocumentInsertion" name="test_batch_insertion_memory_management" time="0.934" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestErrorHandlingAndValidation" name="test_validation_empty_text" time="0.011" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestErrorHandlingAndValidation" name="test_validation_invalid_metadata" time="0.011" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestErrorHandlingAndValidation" name="test_database_connection_error_handling" time="0.012" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestErrorHandlingAndValidation" name="test_collection_type_validation" time="0.012"><failure message="AssertionError: Expected 'determine_collection_type_for_document' to have been called once. Called 0 times.">src/research_agent_backend/tests/test_document_insertion.py:424: in test_collection_type_validation
    insertion_manager.collection_type_manager.determine_collection_type_for_document.assert_called_once()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:918: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'determine_collection_type_for_document' to have been called once. Called 0 times.</failure></testcase><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestDataPreparationIntegration" name="test_document_cleaning_integration" time="0.012" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestDataPreparationIntegration" name="test_metadata_normalization_integration" time="0.012" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestTransactionSupport" name="test_transaction_commit_on_success" time="0.013" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestTransactionSupport" name="test_transaction_rollback_on_failure" time="0.013" /><testcase classname="src.research_agent_backend.tests.test_document_insertion.TestTransactionSupport" name="test_nested_transaction_support" time="0.013" /><testcase classname="src.research_agent_backend.tests.test_fixture_validation" name="test_temp_vector_store_fixture" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_fixture_validation" name="test_sample_documents_fixture" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_fixture_validation" name="test_mock_embedding_service_fixture" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_fixture_validation" name="test_test_config_fixture" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_fixture_validation" name="test_utilities_work_correctly" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_conftest_provides_shared_fixtures" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_test_utilities_are_available" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_tdd_templates_exist" time="0.000"><failure message="AssertionError: assert False&#10; +  where False = exists()&#10; +    where exists = PosixPath('src/research_agent_backend/tests/templates').exists">src/research_agent_backend/tests/test_infrastructure.py:48: in test_tdd_templates_exist
    assert templates_dir.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('src/research_agent_backend/tests/templates').exists</failure></testcase><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_pytest_markers_are_documented" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_coverage_configuration_is_complete" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_infrastructure.TestTestInfrastructure" name="test_continuous_testing_script_exists" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_detector_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_analyze_high_confidence_results_no_gap" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_analyze_low_confidence_results_triggers_gap" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_analyze_sparse_results_triggers_gap" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_analyze_empty_results_triggers_gap" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_generate_external_search_suggestions" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_generate_research_prompts" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_calculate_coverage_score" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_detect_missing_query_aspects" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_suggest_knowledge_base_augmentation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_confidence_level_classification" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_gap_analysis_with_mixed_confidence" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_research_suggestion_prioritization" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_configuration_validation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestKnowledgeGapDetector" name="test_analyze_with_disabled_external_suggestions" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestGapDetectionConfig" name="test_default_configuration" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestGapDetectionConfig" name="test_configuration_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestGapAnalysisResult" name="test_gap_analysis_result_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestGapAnalysisResult" name="test_gap_analysis_result_serialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestResearchSuggestion" name="test_research_suggestion_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestResearchSuggestion" name="test_research_suggestion_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestConfidenceLevel" name="test_confidence_level_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_knowledge_gap_detector.TestConfidenceLevel" name="test_confidence_level_comparison" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryManagerInitialization" name="test_query_manager_basic_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryManagerInitialization" name="test_query_manager_with_all_dependencies" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryManagerInitialization" name="test_query_manager_configuration_validation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryManagerInitialization" name="test_query_manager_default_configuration" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestAdvancedVectorSimilaritySearch" name="test_configurable_similarity_search" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestAdvancedVectorSimilaritySearch" name="test_multi_collection_search" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestAdvancedVectorSimilaritySearch" name="test_embedding_model_selection" time="0.010"><failure message="AssertionError: assert 'sentence-transformers' == 'openai-ada'&#10;  &#10;  - openai-ada&#10;  + sentence-transformers">src/research_agent_backend/tests/test_query_manager.py:176: in test_embedding_model_selection
    assert result.embedding_model == model
E   AssertionError: assert 'sentence-transformers' == 'openai-ada'
E     
E     - openai-ada
E     + sentence-transformers</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestAdvancedVectorSimilaritySearch" name="test_vector_space_optimization" time="0.010"><failure message="AssertionError: assert 0.0 &gt; 0&#10; +  where 0.0 = PerformanceMetrics(total_execution_time=7.390975952148438e-05, vector_search_time=3.075599670410156e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).optimization_time&#10; +    where PerformanceMetrics(total_execution_time=7.390975952148438e-05, vector_search_time=3.075599670410156e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0) = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).performance_metrics">src/research_agent_backend/tests/test_query_manager.py:197: in test_vector_space_optimization
    assert result.performance_metrics.optimization_time &gt; 0
E   AssertionError: assert 0.0 &gt; 0
E    +  where 0.0 = PerformanceMetrics(total_execution_time=7.390975952148438e-05, vector_search_time=3.075599670410156e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).optimization_time
E    +    where PerformanceMetrics(total_execution_time=7.390975952148438e-05, vector_search_time=3.075599670410156e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0) = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).performance_metrics</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestEnhancedMetadataFiltering" name="test_complex_boolean_logic_filtering" time="0.009"><failure message="src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: 'field'">src/research_agent_backend/core/query_manager/manager.py:232: in similarity_search
    chroma_filters = self._convert_filters(metadata_filter)
src/research_agent_backend/core/query_manager/manager.py:447: in _convert_filters
    return {"$and": [self._convert_single_filter(f) for f in filter_config.filters]}
src/research_agent_backend/core/query_manager/manager.py:447: in &lt;listcomp&gt;
    return {"$and": [self._convert_single_filter(f) for f in filter_config.filters]}
src/research_agent_backend/core/query_manager/manager.py:455: in _convert_single_filter
    field = filter_item["field"]
E   KeyError: 'field'

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/query_manager/manager.py:278: in similarity_search
    raise e
src/research_agent_backend/core/query_manager/manager.py:271: in similarity_search
    raise QueryError(f"Failed to query collection {collection}: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryError: Failed to query collection test_collection: 'field'

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/test_query_manager.py:227: in test_complex_boolean_logic_filtering
    result = query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:408: in similarity_search
    raise QueryManagerError(f"Query execution failed: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: 'field'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestEnhancedMetadataFiltering" name="test_range_queries" time="0.009"><failure message="assert False&#10; +  where False = all(&lt;generator object TestEnhancedMetadataFiltering.test_range_queries.&lt;locals&gt;.&lt;genexpr&gt; at 0x15ffdf370&gt;)">src/research_agent_backend/tests/test_query_manager.py:257: in test_range_queries
    assert all("created_at" in meta for meta in result.metadata)
E   assert False
E    +  where False = all(&lt;generator object TestEnhancedMetadataFiltering.test_range_queries.&lt;locals&gt;.&lt;genexpr&gt; at 0x15ffdf370&gt;)</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestEnhancedMetadataFiltering" name="test_field_validation" time="0.009"><failure message="src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: Field 'nonexistent_field' not found">src/research_agent_backend/core/query_manager/manager.py:232: in similarity_search
    chroma_filters = self._convert_filters(metadata_filter)
src/research_agent_backend/core/query_manager/manager.py:419: in _convert_filters
    raise FilterValidationError(f"Field '{field}' not found")
E   src.research_agent_backend.exceptions.query_exceptions.FilterValidationError: Field 'nonexistent_field' not found

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/query_manager/manager.py:278: in similarity_search
    raise e
src/research_agent_backend/core/query_manager/manager.py:271: in similarity_search
    raise QueryError(f"Failed to query collection {collection}: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryError: Failed to query collection test_collection: Field 'nonexistent_field' not found

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/test_query_manager.py:269: in test_field_validation
    query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:408: in similarity_search
    raise QueryManagerError(f"Query execution failed: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: Field 'nonexistent_field' not found</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestEnhancedMetadataFiltering" name="test_nested_metadata_filtering" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryExecutionOptimization" name="test_performance_monitoring" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryExecutionOptimization" name="test_execution_strategy_selection" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryExecutionOptimization" name="test_query_plan_analysis" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryExecutionOptimization" name="test_optimization_recommendation_engine" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestPaginationSystem" name="test_offset_limit_pagination" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestPaginationSystem" name="test_cursor_based_pagination" time="0.008" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestPaginationSystem" name="test_large_result_set_handling" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestPaginationSystem" name="test_pagination_state_management" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestResultLimitingFeatures" name="test_configurable_result_limits" time="0.010"><failure message="AssertionError: assert 'top_k' == 'threshold_based'&#10;  &#10;  - threshold_based&#10;  + top_k">src/research_agent_backend/tests/test_query_manager.py:510: in test_configurable_result_limits
    assert result.limiting_strategy == config["strategy"]
E   AssertionError: assert 'top_k' == 'threshold_based'
E     
E     - threshold_based
E     + top_k</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestResultLimitingFeatures" name="test_ranking_strategies" time="0.010"><failure message="AssertionError: assert 'similarity_score' == 'relevance_score'&#10;  &#10;  - relevance_score&#10;  + similarity_score">src/research_agent_backend/tests/test_query_manager.py:525: in test_ranking_strategies
    assert result.ranking_strategy == strategy
E   AssertionError: assert 'similarity_score' == 'relevance_score'
E     
E     - relevance_score
E     + similarity_score</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestResultLimitingFeatures" name="test_performance_aware_limiting" time="0.010" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestResultLimitingFeatures" name="test_dynamic_limit_adjustment" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryPerformanceBenchmarking" name="test_execution_time_tracking" time="0.009"><failure message="assert ((2.9802322387695312e-05 + 0.0) + 0.001) &lt;= 6.67572021484375e-05&#10; +  where 2.9802322387695312e-05 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).vector_search_time&#10; +  and   0.0 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).filter_time&#10; +  and   0.001 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).result_formatting_time&#10; +  and   6.67572021484375e-05 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).total_execution_time">src/research_agent_backend/tests/test_query_manager.py:590: in test_execution_time_tracking
    assert (metrics.vector_search_time + metrics.filter_time +
E   assert ((2.9802322387695312e-05 + 0.0) + 0.001) &lt;= 6.67572021484375e-05
E    +  where 2.9802322387695312e-05 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).vector_search_time
E    +  and   0.0 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).filter_time
E    +  and   0.001 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).result_formatting_time
E    +  and   6.67572021484375e-05 = PerformanceMetrics(total_execution_time=6.67572021484375e-05, vector_search_time=2.9802322387695312e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).total_execution_time</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryPerformanceBenchmarking" name="test_optimization_recommendations" time="0.010" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryPerformanceBenchmarking" name="test_performance_regression_detection" time="0.011"><failure message="AttributeError: &lt;src.research_agent_backend.core.query_manager.manager.QueryManager object at 0x114c33350&gt; does not have the attribute '_execute_query'">src/research_agent_backend/tests/test_query_manager.py:627: in test_performance_regression_detection
    with patch.object(query_manager, '_execute_query') as mock_execute:
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;src.research_agent_backend.core.query_manager.manager.QueryManager object at 0x114c33350&gt; does not have the attribute '_execute_query'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryPerformanceBenchmarking" name="test_benchmark_reporting" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestBatchQueryProcessing" name="test_batch_query_execution" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestBatchQueryProcessing" name="test_parallel_query_processing" time="0.012" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestBatchQueryProcessing" name="test_batch_optimization_strategies" time="0.011"><failure message="AssertionError: assert 'sequential' == 'adaptive'&#10;  &#10;  - adaptive&#10;  + sequential">src/research_agent_backend/tests/test_query_manager.py:733: in test_batch_optimization_strategies
    assert batch_result["strategy_used"] == strategy
E   AssertionError: assert 'sequential' == 'adaptive'
E     
E     - adaptive
E     + sequential</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestBatchQueryProcessing" name="test_batch_result_aggregation" time="0.010" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryCachingSystem" name="test_query_result_caching" time="0.009"><failure message="AssertionError: assert 0.001 &lt; 5.507469177246094e-05&#10; +  where 0.001 = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).cache_hit_time&#10; +  and   5.507469177246094e-05 = PerformanceMetrics(total_execution_time=5.507469177246094e-05, vector_search_time=2.5033950805664062e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).total_execution_time&#10; +    where PerformanceMetrics(total_execution_time=5.507469177246094e-05, vector_search_time=2.5033950805664062e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0) = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).performance_metrics">src/research_agent_backend/tests/test_query_manager.py:789: in test_query_result_caching
    assert result2.cache_hit_time &lt; result1.performance_metrics.total_execution_time
E   AssertionError: assert 0.001 &lt; 5.507469177246094e-05
E    +  where 0.001 = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).cache_hit_time
E    +  and   5.507469177246094e-05 = PerformanceMetrics(total_execution_time=5.507469177246094e-05, vector_search_time=2.5033950805664062e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0).total_execution_time
E    +    where PerformanceMetrics(total_execution_time=5.507469177246094e-05, vector_search_time=2.5033950805664062e-05, filter_time=0.0, result_formatting_time=0.001, optimization_time=0.0) = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).performance_metrics</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryCachingSystem" name="test_cache_invalidation" time="1.115"><failure message="AssertionError: assert not True&#10; +  where True = is_valid('8cb3dbff54982b05001888009d0d6b36')&#10; +    where is_valid = &lt;src.research_agent_backend.core.query_manager.cache.QueryCache object at 0x3574f1890&gt;.is_valid&#10; +      where &lt;src.research_agent_backend.core.query_manager.cache.QueryCache object at 0x3574f1890&gt; = &lt;src.research_agent_backend.core.query_manager.manager.QueryManager object at 0x115484e90&gt;.query_cache">src/research_agent_backend/tests/test_query_manager.py:808: in test_cache_invalidation
    assert not query_manager.query_cache.is_valid(cache_key)
E   AssertionError: assert not True
E    +  where True = is_valid('8cb3dbff54982b05001888009d0d6b36')
E    +    where is_valid = &lt;src.research_agent_backend.core.query_manager.cache.QueryCache object at 0x3574f1890&gt;.is_valid
E    +      where &lt;src.research_agent_backend.core.query_manager.cache.QueryCache object at 0x3574f1890&gt; = &lt;src.research_agent_backend.core.query_manager.manager.QueryManager object at 0x115484e90&gt;.query_cache</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryCachingSystem" name="test_cache_performance_optimization" time="0.028"><failure message="assert 0 &gt; 0">src/research_agent_backend/tests/test_query_manager.py:845: in test_cache_performance_optimization
    assert cache_stats["evictions"] &gt; 0
E   assert 0 &gt; 0</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestQueryCachingSystem" name="test_cache_memory_management" time="0.012" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestIntegrationWithExistingManagers" name="test_chroma_manager_integration" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestIntegrationWithExistingManagers" name="test_collection_type_manager_integration" time="0.009"><failure message="AssertionError: assert 'test_project' in ['test_project in test_project_FUNDAMENTAL']&#10; +  where ['test_project in test_project_FUNDAMENTAL'] = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...st_project_FUNDAMENTAL'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).collections_searched">src/research_agent_backend/tests/test_query_manager.py:928: in test_collection_type_manager_integration
    assert "test_project" in result.collections_searched
E   AssertionError: assert 'test_project' in ['test_project in test_project_FUNDAMENTAL']
E    +  where ['test_project in test_project_FUNDAMENTAL'] = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...st_project_FUNDAMENTAL'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).collections_searched</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestIntegrationWithExistingManagers" name="test_data_preparation_manager_integration" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestIntegrationWithExistingManagers" name="test_cross_manager_coordination" time="0.010" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestComprehensiveErrorHandling" name="test_query_timeout_handling" time="0.008" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestComprehensiveErrorHandling" name="test_database_connection_failures" time="0.009"><failure message="AssertionError: Regex pattern did not match.&#10; Regex: 'Database connection failed'&#10; Input: &quot;Query execution failed: Failed to query collection test_collection: 'Mock' object is not subscriptable&quot;">src/research_agent_backend/core/query_manager/manager.py:250: in similarity_search
    ids = search_result["ids"][0] if search_result["ids"] else []
E   TypeError: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/query_manager/manager.py:278: in similarity_search
    raise e
src/research_agent_backend/core/query_manager/manager.py:271: in similarity_search
    raise QueryError(f"Failed to query collection {collection}: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryError: Failed to query collection test_collection: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/test_query_manager.py:1007: in test_database_connection_failures
    query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:408: in similarity_search
    raise QueryManagerError(f"Query execution failed: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/test_query_manager.py:1006: in test_database_connection_failures
    with pytest.raises(QueryManagerError, match="Database connection failed"):
E   AssertionError: Regex pattern did not match.
E    Regex: 'Database connection failed'
E    Input: "Query execution failed: Failed to query collection test_collection: 'Mock' object is not subscriptable"</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestComprehensiveErrorHandling" name="test_invalid_embedding_dimensions" time="0.009" /><testcase classname="src.research_agent_backend.tests.test_query_manager.TestComprehensiveErrorHandling" name="test_graceful_degradation" time="0.010"><failure message="AssertionError: assert 'cache_unavailable' in []&#10; +  where [] = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).warnings">src/research_agent_backend/tests/test_query_manager.py:1042: in test_graceful_degradation
    assert "cache_unavailable" in result.warnings
E   AssertionError: assert 'cache_unavailable' in []
E    +  where [] = QueryResult(results=[{'id': 'doc1', 'content': 'Sample doc 1', 'metadata': {'type': 'test'}, 'distance': 0.1, 'similar...ched=['test_collection'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).warnings</failure></testcase><testcase classname="src.research_agent_backend.tests.test_query_manager.TestComprehensiveErrorHandling" name="test_error_recovery_mechanisms" time="0.216"><failure message="src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: 'Mock' object is not subscriptable">src/research_agent_backend/core/query_manager/manager.py:250: in similarity_search
    ids = search_result["ids"][0] if search_result["ids"] else []
E   TypeError: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/query_manager/manager.py:278: in similarity_search
    raise e
src/research_agent_backend/core/query_manager/manager.py:271: in similarity_search
    raise QueryError(f"Failed to query collection {collection}: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryError: Failed to query collection test_collection: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/test_query_manager.py:1064: in test_error_recovery_mechanisms
    result = query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:408: in similarity_search
    raise QueryManagerError(f"Query execution failed: {e}")
E   src.research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection test_collection: 'Mock' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_complete_rag_pipeline_basic_query" time="0.089" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_complete_rag_pipeline_with_filters" time="0.091" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_complete_rag_pipeline_comparative_query" time="0.089" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_rag_pipeline_edge_cases" time="0.169" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_rag_pipeline_performance_benchmarks" time="0.428" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_rag_pipeline_error_handling_and_recovery" time="0.003" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGEndToEndPipeline" name="test_rag_pipeline_real_world_scenarios" time="0.178" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGPipelineIntegration" name="test_integration_with_real_embedding_service" time="0.085" /><testcase classname="src.research_agent_backend.tests.test_rag_end_to_end.TestRAGPipelineIntegration" name="test_integration_with_multiple_collections" time="0.089" /><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_main_query_method_basic_execution" time="0.003"><failure message="assert None == &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt;&#10; +  where None = QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent&#10; +    where QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context&#10; +  and   &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt; = QueryIntent.INFORMATION_SEEKING">src/research_agent_backend/tests/test_rag_pipeline_integration.py:91: in test_main_query_method_basic_execution
    assert result.query_context.intent == QueryIntent.INFORMATION_SEEKING
E   assert None == &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt;
E    +  where None = QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent
E    +    where QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context
E    +  and   &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt; = QueryIntent.INFORMATION_SEEKING</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_with_reranking_disabled" time="0.003"><failure message="KeyError: 'reranking_enabled'">src/research_agent_backend/tests/test_rag_pipeline_integration.py:131: in test_query_method_with_reranking_disabled
    assert result.execution_stats["reranking_enabled"] is False
E   KeyError: 'reranking_enabled'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_with_feedback_disabled" time="0.003" /><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_input_validation" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_error_handling" time="0.003" /><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_with_filters" time="0.003"><failure message="assert 0 &gt; 0&#10; +  where 0 = len([])&#10; +    where [] = QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).filters&#10; +      where QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Python tutorials from programming collection', intent=None, key...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context">src/research_agent_backend/tests/test_rag_pipeline_integration.py:212: in test_query_method_with_filters
    assert len(result.query_context.filters) &gt; 0
E   assert 0 &gt; 0
E    +  where 0 = len([])
E    +    where [] = QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).filters
E    +      where QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Python tutorials from programming collection', intent=None, key...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_execution_phases" time="0.003"><failure message="assert 'processing_pipeline' in {'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}&#10; +  where {'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;} = QueryResult(query_context=QueryContext(original_query='machine learning basics', intent=None, key_terms=[], filters=[]...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).metadata">src/research_agent_backend/tests/test_rag_pipeline_integration.py:240: in test_query_method_execution_phases
    assert "processing_pipeline" in result.metadata
E   assert 'processing_pipeline' in {'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}
E    +  where {'error': "Failed to generate query embedding: object of type 'Mock' has no len()"} = QueryResult(query_context=QueryContext(original_query='machine learning basics', intent=None, key_terms=[], filters=[]...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).metadata</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_method_different_intents" time="0.003"><failure message="assert None == &lt;QueryIntent.COMPARATIVE_ANALYSIS: 'comparative_analysis'&gt;&#10; +  where None = QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent&#10; +    where QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], f...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context&#10; +  and   &lt;QueryIntent.COMPARATIVE_ANALYSIS: 'comparative_analysis'&gt; = QueryIntent.COMPARATIVE_ANALYSIS">src/research_agent_backend/tests/test_rag_pipeline_integration.py:254: in test_query_method_different_intents
    assert result.query_context.intent == QueryIntent.COMPARATIVE_ANALYSIS
E   assert None == &lt;QueryIntent.COMPARATIVE_ANALYSIS: 'comparative_analysis'&gt;
E    +  where None = QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent
E    +    where QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Compare React vs Vue performance', intent=None, key_terms=[], f...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context
E    +  and   &lt;QueryIntent.COMPARATIVE_ANALYSIS: 'comparative_analysis'&gt; = QueryIntent.COMPARATIVE_ANALYSIS</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_query_result_serialization" time="0.003"><failure message="AttributeError: 'NoneType' object has no attribute 'value'">src/research_agent_backend/tests/test_rag_pipeline_integration.py:274: in test_query_result_serialization
    result_dict = result.to_dict()
src/research_agent_backend/core/rag_query_engine/rag_query_engine.py:51: in to_dict
    "query_context": self.query_context.to_dict(),
src/research_agent_backend/core/rag_query_engine/query_context.py:138: in to_dict
    "intent": self.intent.value,
E   AttributeError: 'NoneType' object has no attribute 'value'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_prd_compliance_fr_rq_005" time="0.003"><failure message="assert None is not None&#10; +  where None = QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent&#10; +    where QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], ...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context">src/research_agent_backend/tests/test_rag_pipeline_integration.py:298: in test_prd_compliance_fr_rq_005
    assert result.query_context.intent is not None
E   assert None is not None
E    +  where None = QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent
E    +    where QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='test query processing', intent=None, key_terms=[], filters=[], ...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_prd_compliance_fr_rq_006" time="0.003"><failure message="AssertionError: Expected 'embed_text' to have been called once. Called 0 times.">src/research_agent_backend/tests/test_rag_pipeline_integration.py:314: in test_prd_compliance_fr_rq_006
    self.mock_embedding_service.embed_text.assert_called_once()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:918: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'embed_text' to have been called once. Called 0 times.</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_pipeline_integration.TestRAGPipelineIntegration" name="test_prd_compliance_fr_rq_008" time="0.003"><failure message="AssertionError: Expected 'rerank' to have been called once. Called 0 times.">src/research_agent_backend/tests/test_rag_pipeline_integration.py:334: in test_prd_compliance_fr_rq_008
    self.mock_reranker.rerank.assert_called_once()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:918: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'rerank' to have been called once. Called 0 times.</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_simple_query" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_query_with_collection_filter" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_query_with_multiple_filters" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_comparative_query" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_tutorial_request" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_code_search_query" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_query_with_preferences" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_empty_query" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_query_extract_entities" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContextParsing" name="test_parse_query_with_temporal_context" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryIntent" name="test_query_intent_enum_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryIntent" name="test_intent_classification_information_seeking" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryIntent" name="test_intent_classification_comparative" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryIntent" name="test_intent_classification_tutorial" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestContextualFilter" name="test_contextual_filter_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestContextualFilter" name="test_contextual_filter_from_text" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestContextualFilter" name="test_temporal_filter_extraction" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContext" name="test_query_context_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContext" name="test_query_context_to_dict" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestQueryContext" name="test_query_context_from_dict" time="0.000"><failure message="ValueError: 'INFORMATION_SEEKING' is not a valid QueryIntent">src/research_agent_backend/tests/test_rag_query_engine.py:291: in test_query_context_from_dict
    context = QueryContext.from_dict(context_dict)
src/research_agent_backend/core/rag_query_engine/query_context.py:169: in from_dict
    intent=QueryIntent(data["intent"]),
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py:714: in __call__
    return cls.__new__(cls, value)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py:1137: in __new__
    raise ve_exc
E   ValueError: 'INFORMATION_SEEKING' is not a valid QueryIntent</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_generate_query_embedding_simple" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_generate_embedding_with_enhanced_context" time="0.001"><failure message="AssertionError: assert 'comparison' in 'compare react vs vue.js performance react vue.js recent latest'&#10; +  where 'compare react vs vue.js performance react vue.js recent latest' = &lt;built-in method lower of str object at 0x15ff5e3a0&gt;()&#10; +    where &lt;built-in method lower of str object at 0x15ff5e3a0&gt; = 'Compare React vs Vue.js performance React Vue.js recent latest'.lower">src/research_agent_backend/tests/test_rag_query_engine.py:359: in test_generate_embedding_with_enhanced_context
    assert "comparison" in enhanced_query.lower()
E   AssertionError: assert 'comparison' in 'compare react vs vue.js performance react vue.js recent latest'
E    +  where 'compare react vs vue.js performance react vue.js recent latest' = &lt;built-in method lower of str object at 0x15ff5e3a0&gt;()
E    +    where &lt;built-in method lower of str object at 0x15ff5e3a0&gt; = 'Compare React vs Vue.js performance React Vue.js recent latest'.lower</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_generate_embedding_with_metadata_context" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_generate_embedding_error_handling" time="0.002" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_query_enhancement_intent_based" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_query_enhancement_with_entities" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_query_enhancement_with_temporal_context" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryEmbeddingGeneration" name="test_embedding_caching_behavior" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_simple" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_with_filters" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_multiple_collections" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_distance_threshold" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_empty_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_error_handling" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_top_k_limiting" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGVectorSearchExecution" name="test_execute_vector_search_result_metadata_preservation" time="0.001"><failure message="NameError: name 'result' is not defined">src/research_agent_backend/tests/test_rag_query_engine.py:700: in test_execute_vector_search_result_metadata_preservation
    assert result["chunk_content"] == "Test content"
E   NameError: name 'result' is not defined</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_equals_operator" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_collection_filter" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_contains_operator" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_greater_than_operator" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_less_than_operator" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_date_range" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_multiple_and_conditions" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_multiple_complex_conditions" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_missing_field" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_empty_filters" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_none_filters" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_empty_candidates" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_confidence_based_filtering" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_case_insensitive_string_matching" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_with_nested_fields" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_apply_metadata_filters_preserves_result_structure" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGMetadataFiltering" name="test_metadata_filtering_integration_with_vector_search" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_basic_functionality" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_preserves_metadata" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_handles_conversion_to_search_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_handles_back_conversion_to_dict_format" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_with_top_n_limiting" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_empty_candidates" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_error_handling" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_score_improvement_tracking" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_integration_with_metadata_filtering" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_apply_reranking_preserves_original_ranking_information" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_reranking_pipeline_integration" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGReranking" name="test_reranking_with_diverse_content_types" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_generate_result_feedback_basic" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_relevance_scoring_calculation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_ranking_reason_generation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_search_summary_generation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_refinement_suggestions_generation" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_refinement_suggestions_based_on_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_feedback_generation_with_filters" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_feedback_generation_with_preferences" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_feedback_generation_empty_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_collect_user_feedback_interface" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGFeedbackGeneration" name="test_feedback_metrics_tracking" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_basic_structure" time="0.002"><failure message="assert 'summary' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...ject has no attribute 'result_formatter'&quot;]}, 'query_info': {'original_query': 'Python machine learning tutorial'}, ...}">src/research_agent_backend/tests/test_rag_query_engine.py:1892: in test_format_results_basic_structure
    assert "summary" in formatted_results
E   assert 'summary' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...ject has no attribute 'result_formatter'"]}, 'query_info': {'original_query': 'Python machine learning tutorial'}, ...}</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_content_highlighting" time="0.001"><failure message="KeyError: 'snippet'">src/research_agent_backend/tests/test_rag_query_engine.py:1930: in test_format_results_content_highlighting
    snippet = first_result["snippet"]
E   KeyError: 'snippet'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_snippet_generation" time="0.002"><failure message="KeyError: 'snippet'">src/research_agent_backend/tests/test_rag_query_engine.py:1954: in test_format_results_snippet_generation
    snippet = result["snippet"]
E   KeyError: 'snippet'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_metadata_enrichment" time="0.002"><failure message="KeyError: 'source_info'">src/research_agent_backend/tests/test_rag_query_engine.py:1980: in test_format_results_metadata_enrichment
    source_info = result["source_info"]
E   KeyError: 'source_info'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_cli_output_format" time="0.002"><failure message="AssertionError: assert 'header' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...: {'author': 'Dr. Johnson', 'collection': 'advanced', 'created': '2024-02-20', 'source': 'advanced_ml.md', ...}, ...}]}">src/research_agent_backend/tests/test_rag_query_engine.py:2013: in test_format_results_cli_output_format
    assert "header" in formatted_results
E   AssertionError: assert 'header' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...: {'author': 'Dr. Johnson', 'collection': 'advanced', 'created': '2024-02-20', 'source': 'advanced_ml.md', ...}, ...}]}</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_api_output_format" time="0.002"><failure message="AssertionError: assert 'query' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...: {'author': 'Dr. Johnson', 'collection': 'advanced', 'created': '2024-02-20', 'source': 'advanced_ml.md', ...}, ...}]}">src/research_agent_backend/tests/test_rag_query_engine.py:2046: in test_format_results_api_output_format
    assert "query" in formatted_results
E   AssertionError: assert 'query' in {'error': 'Result formatting failed', 'feedback': {'refinement_suggestions': [{'reason': 'Multiple relevant collection...: {'author': 'Dr. Johnson', 'collection': 'advanced', 'created': '2024-02-20', 'source': 'advanced_ml.md', ...}, ...}]}</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_performance_information" time="0.002"><failure message="assert 'performance' in {'errors': [&quot;'RAGQueryEngine' object has no attribute 'result_formatter'&quot;]}">src/research_agent_backend/tests/test_rag_query_engine.py:2087: in test_format_results_performance_information
    assert "performance" in metadata
E   assert 'performance' in {'errors': ["'RAGQueryEngine' object has no attribute 'result_formatter'"]}</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_empty_results" time="0.001"><failure message="assert 0 &gt; 0&#10; +  where 0 = len([])">src/research_agent_backend/tests/test_rag_query_engine.py:2123: in test_format_results_empty_results
    assert len(suggestions) &gt; 0
E   assert 0 &gt; 0
E    +  where 0 = len([])</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_error_handling" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_customization_options" time="0.001"><failure message="AssertionError: assert ('**' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.' or '*' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.' or '`' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.')">src/research_agent_backend/tests/test_rag_query_engine.py:2179: in test_format_results_customization_options
    assert "**" in content or "*" in content or "`" in content
E   AssertionError: assert ('**' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.' or '*' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.' or '`' in 'Python machine learning tutorial: Getting started with scikit-learn. This comprehensive guide covers the basics of ma...ing, model training, and evaluation. Perfect for beginners who want to learn machine learning with practical examples.')</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGResultFormatting" name="test_format_results_integration_with_feedback" time="0.002"><failure message="AssertionError: assert 0 == 1&#10; +  where 0 = len([])&#10; +  and   1 = len([{'reason': 'Multiple relevant collections found', 'suggestion': 'Add collection filter to focus on tutorials', 'type': 'add_filter'}])">src/research_agent_backend/tests/test_rag_query_engine.py:2204: in test_format_results_integration_with_feedback
    assert len(suggestions) == len(original_suggestions)
E   AssertionError: assert 0 == 1
E    +  where 0 = len([])
E    +  and   1 = len([{'reason': 'Multiple relevant collections found', 'suggestion': 'Add collection filter to focus on tutorials', 'type': 'add_filter'}])</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_basic_execution" time="0.003"><failure message="assert None == &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt;&#10; +  where None = QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent&#10; +    where QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context&#10; +  and   &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt; = QueryIntent.INFORMATION_SEEKING">src/research_agent_backend/tests/test_rag_query_engine.py:2277: in test_query_pipeline_basic_execution
    assert result.query_context.intent == QueryIntent.INFORMATION_SEEKING
E   assert None == &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt;
E    +  where None = QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).intent
E    +    where QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='What is machine learning?', intent=None, key_terms=[], filters=...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context
E    +  and   &lt;QueryIntent.INFORMATION_SEEKING: 'information_seeking'&gt; = QueryIntent.INFORMATION_SEEKING</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_with_reranking_disabled" time="0.003"><failure message="KeyError: 'reranking_enabled'">src/research_agent_backend/tests/test_rag_query_engine.py:2303: in test_query_pipeline_with_reranking_disabled
    assert result.execution_stats["reranking_enabled"] is False
E   KeyError: 'reranking_enabled'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_with_feedback_disabled" time="0.003" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_with_filters" time="0.003"><failure message="assert 0 &gt; 0&#10; +  where 0 = len([])&#10; +    where [] = QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).filters&#10; +      where QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Python tutorials from programming collection', intent=None, key...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).query_context">src/research_agent_backend/tests/test_rag_query_engine.py:2337: in test_query_pipeline_with_filters
    assert len(result.query_context.filters) &gt; 0
E   assert 0 &gt; 0
E    +  where 0 = len([])
E    +    where [] = QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None).filters
E    +      where QueryContext(original_query='Python tutorials from programming collection', intent=None, key_terms=[], filters=[], preferences={}, entities={}, temporal_context=None) = QueryResult(query_context=QueryContext(original_query='Python tutorials from programming collection', intent=None, key...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).query_context</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_error_handling" time="0.003" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_empty_collections_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_empty_query_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_with_distance_threshold" time="0.003"><failure message="AttributeError: 'NoneType' object has no attribute 'kwargs'">src/research_agent_backend/tests/test_rag_query_engine.py:2393: in test_query_pipeline_with_distance_threshold
    assert "distance_threshold" in call_args.kwargs or len(call_args.args) &gt;= 5
E   AttributeError: 'NoneType' object has no attribute 'kwargs'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_top_k_limiting" time="0.004"><failure message="AttributeError: 'NoneType' object has no attribute 'kwargs'">src/research_agent_backend/tests/test_rag_query_engine.py:2408: in test_query_pipeline_top_k_limiting
    assert call_args.kwargs.get("top_k") == 5 or (len(call_args.args) &gt;= 3 and call_args.args[2] == 5)
E   AttributeError: 'NoneType' object has no attribute 'kwargs'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_rerank_top_n_limiting" time="0.003"><failure message="AttributeError: 'NoneType' object has no attribute 'kwargs'">src/research_agent_backend/tests/test_rag_query_engine.py:2423: in test_query_pipeline_rerank_top_n_limiting
    assert call_args.kwargs.get("top_n") == 3 or (len(call_args.args) &gt;= 3 and call_args.args[2] == 3)
E   AttributeError: 'NoneType' object has no attribute 'kwargs'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_result_serialization" time="0.003"><failure message="AttributeError: 'NoneType' object has no attribute 'value'">src/research_agent_backend/tests/test_rag_query_engine.py:2436: in test_query_result_serialization
    result_dict = result.to_dict()
src/research_agent_backend/core/rag_query_engine/rag_query_engine.py:51: in to_dict
    "query_context": self.query_context.to_dict(),
src/research_agent_backend/core/rag_query_engine/query_context.py:138: in to_dict
    "intent": self.intent.value,
E   AttributeError: 'NoneType' object has no attribute 'value'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_rag_query_engine.TestRAGQueryPipelineEndToEnd" name="test_query_pipeline_metadata_completeness" time="0.003"><failure message="assert 'query_intent' in {'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}&#10; +  where {'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;} = QueryResult(query_context=QueryContext(original_query='comprehensive test query', intent=None, key_terms=[], filters=[...tion', 'error': &quot;Failed to generate query embedding: object of type 'Mock' has no len()&quot;}, knowledge_gap_analysis=None).metadata">src/research_agent_backend/tests/test_rag_query_engine.py:2459: in test_query_pipeline_metadata_completeness
    assert "query_intent" in result.metadata
E   assert 'query_intent' in {'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}
E    +  where {'error': "Failed to generate query embedding: object of type 'Mock' has no len()"} = QueryResult(query_context=QueryContext(original_query='comprehensive test query', intent=None, key_terms=[], filters=[...tion', 'error': "Failed to generate query embedding: object of type 'Mock' has no len()"}, knowledge_gap_analysis=None).metadata</failure></testcase><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_formatter_initialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_keyword_extraction" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_keyword_highlighting_markdown" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_keyword_highlighting_html" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_keyword_highlighting_case_insensitive" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_relevance_level_classification" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_relevance_info_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_metadata_formatting_markdown" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_metadata_formatting_disabled" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_source_info_formatting" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_header_path_formatting" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_header_path_empty" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_feedback_ui_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_feedback_ui_disabled" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_single_result_formatting" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_content_truncation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_format_results_list" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_format_results_with_filtering" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_format_results_exclude_empty" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_is_valid_result" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_fallback_result_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_query_summary_markdown" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_query_summary_no_results" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_query_summary_html" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_collection_icons" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestResultFormatter" name="test_formatting_error_handling" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestFormattingOptions" name="test_default_options" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestFormattingOptions" name="test_custom_options" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestHighlightedText" name="test_highlighted_text_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestFormattedResult" name="test_formatted_result_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_format_results_for_cursor" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_format_results_for_cursor_compact" time="0.001" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_format_results_for_cli" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_format_results_for_cli_no_colors" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_create_result_markdown" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestConvenienceFunctions" name="test_create_result_markdown_minimal" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestEdgeCases" name="test_empty_query_highlighting" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestEdgeCases" name="test_empty_content_highlighting" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestEdgeCases" name="test_special_characters_in_keywords" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestEdgeCases" name="test_format_results_empty_list" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_result_formatter.TestEdgeCases" name="test_very_high_and_very_low_scores" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_initialization" time="0.021" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_health_check" time="0.021" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_create_collection" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_get_collection" time="0.024" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_delete_collection" time="0.027" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_add_documents" time="0.027" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_add_documents_validation" time="0.024" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_query_collection" time="0.027" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_query_nonexistent_collection" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_get_collection_stats" time="0.027" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestChromaDBManager" name="test_health_check_with_client_failure" time="0.024" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityFunctions" name="test_create_chroma_manager" time="0.034" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityFunctions" name="test_get_default_collection_types" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestConfigurationIntegration" name="test_with_config_manager" time="0.013" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_connection_test_with_failure" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_health_check_with_client_failure" time="0.024"><failure message="TypeError: 'HealthStatus' object is not subscriptable">src/research_agent_backend/tests/test_vector_store.py:365: in test_health_check_with_client_failure
    assert health['status'] == 'unhealthy'
E   TypeError: 'HealthStatus' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_create_collection_with_additional_metadata" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_create_collection_force_recreate_missing_collection" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_create_collection_already_exists_error" time="0.025" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_get_collection_stats_detailed_metadata" time="0.025" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling" name="test_close_connection_cleanup" time="0.029"><failure message="AssertionError: assert 2 == 0&#10; +  where 2 = len({'test1_1749024879097_6999edb8': Collection(name=test1_1749024879097_6999edb8), 'test2_1749024879099_d36c5d1a': Collection(name=test2_1749024879099_d36c5d1a)})&#10; +    where {'test1_1749024879097_6999edb8': Collection(name=test1_1749024879097_6999edb8), 'test2_1749024879099_d36c5d1a': Collection(name=test2_1749024879099_d36c5d1a)} = &lt;src.research_agent_backend.core.vector_store.collections.CollectionManager object at 0x154571050&gt;._collections_cache&#10; +      where &lt;src.research_agent_backend.core.vector_store.collections.CollectionManager object at 0x154571050&gt; = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x14328a390&gt;.collections&#10; +        where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x14328a390&gt; = &lt;src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling object at 0x114e26910&gt;.manager">src/research_agent_backend/tests/test_vector_store.py:424: in test_close_connection_cleanup
    assert len(self.manager.collections._collections_cache) == 0  # Access through collections manager
E   AssertionError: assert 2 == 0
E    +  where 2 = len({'test1_1749024879097_6999edb8': Collection(name=test1_1749024879097_6999edb8), 'test2_1749024879099_d36c5d1a': Collection(name=test2_1749024879099_d36c5d1a)})
E    +    where {'test1_1749024879097_6999edb8': Collection(name=test1_1749024879097_6999edb8), 'test2_1749024879099_d36c5d1a': Collection(name=test2_1749024879099_d36c5d1a)} = &lt;src.research_agent_backend.core.vector_store.collections.CollectionManager object at 0x154571050&gt;._collections_cache
E    +      where &lt;src.research_agent_backend.core.vector_store.collections.CollectionManager object at 0x154571050&gt; = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x14328a390&gt;.collections
E    +        where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x14328a390&gt; = &lt;src.research_agent_backend.tests.test_vector_store.TestVectorStoreEdgeCasesAndErrorHandling object at 0x114e26910&gt;.manager</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_add_documents_metadata_validation_none_metadata" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_add_documents_metadata_validation_non_dict" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_add_documents_embedding_dimension_mismatch" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_add_documents_mismatched_metadata_length" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_add_documents_mismatched_ids_length" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_query_filters_validation" time="0.028" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_embedding_function_mocking" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestValidationAndErrorHandling" name="test_create_chroma_manager_variations" time="0.049"><failure message="AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'">src/research_agent_backend/tests/test_vector_store.py:578: in test_create_chroma_manager_variations
    assert manager.persist_directory == temp_dir
E   AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties" name="test_client_property_initialization" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties" name="test_is_connected_property" time="0.021"><failure message="assert not True&#10; +  where True = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x15455a310&gt;.is_connected&#10; +    where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x15455a310&gt; = &lt;src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties object at 0x114e36c90&gt;.manager">src/research_agent_backend/tests/test_vector_store.py:615: in test_is_connected_property
    assert not self.manager.is_connected
E   assert not True
E    +  where True = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x15455a310&gt;.is_connected
E    +    where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x15455a310&gt; = &lt;src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties object at 0x114e36c90&gt;.manager</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties" name="test_get_default_collection_types_structure" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties" name="test_collection_caching" time="0.022"><failure message="AttributeError: 'ChromaDBManager' object has no attribute '_collections_cache'">src/research_agent_backend/tests/test_vector_store.py:647: in test_collection_caching
    assert collection_name in self.manager._collections_cache
E   AttributeError: 'ChromaDBManager' object has no attribute '_collections_cache'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestUtilityMethodsAndProperties" name="test_reset_database_functionality" time="0.033"><failure message="AttributeError: 'ChromaDBManager' object has no attribute '_collections_cache'">src/research_agent_backend/tests/test_vector_store.py:675: in test_reset_database_functionality
    assert len(self.manager._collections_cache) == 0
E   AttributeError: 'ChromaDBManager' object has no attribute '_collections_cache'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestPersistentDatabaseOperations" name="test_persistent_database_initialization_success" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestPersistentDatabaseOperations" name="test_persistent_database_path_resolution" time="0.020"><failure message="AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'">src/research_agent_backend/tests/test_vector_store.py:741: in test_persistent_database_path_resolution
    assert manager.persist_directory == expected_path
E   AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestPersistentDatabaseOperations" name="test_persistent_database_permission_error" time="0.010"><failure message="src.research_agent_backend.exceptions.vector_store_exceptions.DatabaseInitializationError: Cannot create database directory /root/test_chroma_restricted: [Errno 30] Read-only file system: '/root'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:1116: in mkdir
    os.mkdir(self, mode)
E   FileNotFoundError: [Errno 2] No such file or directory: '/root/test_chroma_restricted'

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/vector_store/client.py:111: in initialize_database
    persist_path.mkdir(parents=True, exist_ok=True)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:1120: in mkdir
    self.parent.mkdir(parents=True, exist_ok=True)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:1116: in mkdir
    os.mkdir(self, mode)
E   OSError: [Errno 30] Read-only file system: '/root'

The above exception was the direct cause of the following exception:
src/research_agent_backend/tests/test_vector_store.py:755: in test_persistent_database_permission_error
    manager = ChromaDBManager(
src/research_agent_backend/core/vector_store/__init__.py:94: in __init__
    client=self.client_manager.client,
src/research_agent_backend/core/vector_store/client.py:75: in client
    self.initialize_database()
src/research_agent_backend/core/vector_store/client.py:115: in initialize_database
    raise DatabaseInitializationError(error_msg) from path_error
E   src.research_agent_backend.exceptions.vector_store_exceptions.DatabaseInitializationError: Cannot create database directory /root/test_chroma_restricted: [Errno 30] Read-only file system: '/root'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestPersistentDatabaseOperations" name="test_database_initialization_error_handling" time="0.016" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestPersistentDatabaseOperations" name="test_connection_test_failure" time="0.016"><failure message="AttributeError: 'ChromaDBManager' object has no attribute '_client'">src/research_agent_backend/tests/test_vector_store.py:789: in test_connection_test_failure
    with patch.object(manager._client, 'heartbeat') as mock_heartbeat:
E   AttributeError: 'ChromaDBManager' object has no attribute '_client'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionValidationMethods" name="test_validate_collection_type_success" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionValidationMethods" name="test_validate_collection_type_mismatch" time="0.024" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionValidationMethods" name="test_validate_collection_type_nonexistent" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionValidationMethods" name="test_validate_collection_type_missing_metadata" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionValidationMethods" name="test_validate_collection_type_invalid_string_type" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_determine_collection_for_document" time="0.021"><failure message="src.research_agent_backend.exceptions.vector_store_exceptions.CollectionNotFoundError: Collection 'project_test_project' not found: Collection [project_test_project] does not exists">src/research_agent_backend/core/vector_store/collections.py:186: in get_collection
    collection = self.client.get_collection(name)
/opt/homebrew/lib/python3.11/site-packages/chromadb/api/client.py:183: in get_collection
    model = self._server.get_collection(
/opt/homebrew/lib/python3.11/site-packages/chromadb/api/rust.py:253: in get_collection
    collection = self.bindings.get_collection(name, tenant, database)
E   chromadb.errors.NotFoundError: Collection [project_test_project] does not exists

The above exception was the direct cause of the following exception:
src/research_agent_backend/tests/test_vector_store.py:1347: in test_determine_collection_for_document
    collection = self.manager.get_collection(collection_name)
src/research_agent_backend/core/vector_store/__init__.py:159: in get_collection
    return self.collections.get_collection(name)
src/research_agent_backend/core/vector_store/collections.py:192: in get_collection
    raise CollectionNotFoundError(error_msg) from e
E   src.research_agent_backend.exceptions.vector_store_exceptions.CollectionNotFoundError: Collection 'project_test_project' not found: Collection [project_test_project] does not exists</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_determine_collection_for_document_with_chunk_metadata" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_get_collections_by_type" time="0.031"><failure message="TypeError: 'CollectionInfo' object is not subscriptable">src/research_agent_backend/tests/test_vector_store.py:1390: in test_get_collections_by_type
    assert any(c['name'] == fundamental_collection.name for c in fundamental_collections)
src/research_agent_backend/tests/test_vector_store.py:1390: in &lt;genexpr&gt;
    assert any(c['name'] == fundamental_collection.name for c in fundamental_collections)
E   TypeError: 'CollectionInfo' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_get_collections_by_type_invalid_string" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_get_collection_type_summary" time="0.023"><failure message="AttributeError: 'ChromaDBManager' object has no attribute '_client'">src/research_agent_backend/tests/test_vector_store.py:1425: in test_get_collection_type_summary
    collection = self.manager._client.create_collection(
E   AttributeError: 'ChromaDBManager' object has no attribute '_client'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_get_collection_type_summary_empty_database" time="0.026" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_migrate_collection_type" time="0.021" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestCollectionTypeManagement" name="test_archive_and_restore_collection" time="0.022" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestAdvancedErrorHandling" name="test_health_check_failure_scenario" time="0.020"><failure message="AttributeError: 'ChromaDBManager' object has no attribute '_client'">src/research_agent_backend/tests/test_vector_store.py:1530: in test_health_check_failure_scenario
    with patch.object(self.manager._client, 'heartbeat') as mock_heartbeat:
E   AttributeError: 'ChromaDBManager' object has no attribute '_client'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestAdvancedErrorHandling" name="test_collection_creation_with_invalid_type_string" time="0.021" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestAdvancedErrorHandling" name="test_query_filters_validation_edge_cases" time="0.026" /><testcase classname="src.research_agent_backend.tests.test_vector_store.TestAdvancedErrorHandling" name="test_reset_database_with_client_warning" time="0.027"><failure message="AssertionError: Expected 'warning' to have been called once. Called 0 times.">src/research_agent_backend/tests/test_vector_store.py:1598: in test_reset_database_with_client_warning
    mock_warning.assert_called_once()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:918: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'warning' to have been called once. Called 0 times.</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store.TestAdvancedErrorHandling" name="test_close_connection_cleanup" time="0.020"><failure message="AttributeError: 'TestAdvancedErrorHandling' object has no attribute 'get_unique_collection_name'">src/research_agent_backend/tests/test_vector_store.py:1604: in test_close_connection_cleanup
    self.manager.create_collection(self.get_unique_collection_name("test1"))
E   AttributeError: 'TestAdvancedErrorHandling' object has no attribute 'get_unique_collection_name'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_initialization" time="0.020"><failure message="assert not True&#10; +  where True = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x177c62410&gt;.is_connected&#10; +    where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x177c62410&gt; = &lt;src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager object at 0x114e4f750&gt;.manager">src/research_agent_backend/tests/test_vector_store_backup.py:77: in test_initialization
    assert not self.manager.is_connected  # Not connected until first use
E   assert not True
E    +  where True = &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x177c62410&gt;.is_connected
E    +    where &lt;src.research_agent_backend.core.vector_store.ChromaDBManager object at 0x177c62410&gt; = &lt;src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager object at 0x114e4f750&gt;.manager</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_health_check" time="0.020" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_create_collection" time="0.024"><failure message="TypeError: 'CollectionInfo' object is not subscriptable">src/research_agent_backend/tests/test_vector_store_backup.py:111: in test_create_collection
    collection_names = [c['name'] for c in collections]
src/research_agent_backend/tests/test_vector_store_backup.py:111: in &lt;listcomp&gt;
    collection_names = [c['name'] for c in collections]
E   TypeError: 'CollectionInfo' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_get_collection" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_delete_collection" time="0.024" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_add_documents" time="0.025"><failure message="TypeError: 'CollectionStats' object is not subscriptable">src/research_agent_backend/tests/test_vector_store_backup.py:163: in test_add_documents
    assert stats['document_count'] == len(self.test_chunks)
E   TypeError: 'CollectionStats' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_add_documents_validation" time="0.023" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_query_collection" time="0.026"><failure message="TypeError: argument of type 'SearchResult' is not iterable">src/research_agent_backend/tests/test_vector_store_backup.py:207: in test_query_collection
    assert 'ids' in results
E   TypeError: argument of type 'SearchResult' is not iterable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_query_nonexistent_collection" time="0.021" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestChromaDBManager" name="test_get_collection_stats" time="0.026"><failure message="TypeError: 'CollectionStats' object is not subscriptable">src/research_agent_backend/tests/test_vector_store_backup.py:238: in test_get_collection_stats
    assert stats['name'] == collection_name
E   TypeError: 'CollectionStats' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestUtilityFunctions" name="test_create_chroma_manager" time="0.012"><failure message="AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'">src/research_agent_backend/tests/test_vector_store_backup.py:253: in test_create_chroma_manager
    assert manager.persist_directory is None  # In-memory
E   AttributeError: 'ChromaDBManager' object has no attribute 'persist_directory'</failure></testcase><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestUtilityFunctions" name="test_get_default_collection_types" time="0.000" /><testcase classname="src.research_agent_backend.tests.test_vector_store_backup.TestConfigurationIntegration" name="test_with_config_manager" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_augmentation_service_initialization_with_dependencies" time="0.003"><failure message="AttributeError: 'AugmentationService' object has no attribute 'config_manager'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:96: in test_augmentation_service_initialization_with_dependencies
    assert service.config_manager == mock_config_manager
E   AttributeError: 'AugmentationService' object has no attribute 'config_manager'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_augmentation_config_creation_and_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_augmentation_config_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_basic_functionality" time="0.003"><failure message="AssertionError: assert 'rejected' == 'success'&#10;  &#10;  - success&#10;  + rejected">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:141: in test_add_external_result_basic_functionality
    assert result['status'] == 'success'
E   AssertionError: assert 'rejected' == 'success'
E     
E     - success
E     + rejected</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_with_source_attribution" time="0.003"><failure message="KeyError: 'source_attribution'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:159: in test_add_external_result_with_source_attribution
    assert result['source_attribution']['url'] == "https://example.com/article"
E   KeyError: 'source_attribution'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_quality_validation_pass" time="0.004"><failure message="AssertionError: assert 'error' == 'success'&#10;  &#10;  - success&#10;  + error">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:183: in test_add_external_result_quality_validation_pass
    assert result['status'] == 'success'
E   AssertionError: assert 'error' == 'success'
E     
E     - success
E     + error</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_quality_validation_fail" time="0.003"><failure message="AssertionError: assert 'error' == 'rejected'&#10;  &#10;  - rejected&#10;  + error">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:206: in test_add_external_result_quality_validation_fail
    assert result['status'] == 'rejected'
E   AssertionError: assert 'error' == 'rejected'
E     
E     - rejected
E     + error</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_automatic_collection_assignment" time="0.003"><failure message="KeyError: 'collection'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:229: in test_add_external_result_automatic_collection_assignment
    assert result['collection'] == 'machine-learning'
E   KeyError: 'collection'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_external_result_duplicate_detection" time="0.003"><failure message="AssertionError: assert 'rejected' == 'duplicate_detected'&#10;  &#10;  - duplicate_detected&#10;  + rejected">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:254: in test_add_external_result_duplicate_detection
    assert result['status'] == 'duplicate_detected'
E   AssertionError: assert 'rejected' == 'duplicate_detected'
E     
E     - duplicate_detected
E     + rejected</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_research_report_basic_functionality" time="0.004"><failure message="assert 2 &gt;= 3">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:285: in test_add_research_report_basic_functionality
    assert result['chunks_created'] &gt;= 3
E   assert 2 &gt;= 3</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_research_report_with_auto_categorization" time="0.004"><failure message="KeyError: 'categorization_confidence'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:311: in test_add_research_report_with_auto_categorization
    assert result['categorization_confidence'] == 0.87
E   KeyError: 'categorization_confidence'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_add_research_reports_batch_processing" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_update_document_content_only" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_update_document_metadata_only" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_update_document_from_file" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_update_nonexistent_document_error" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_detect_duplicates_automatic_detection" time="0.003"><failure message="AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x15ff79d50&gt; does not have the attribute '_calculate_similarity'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:467: in test_detect_duplicates_automatic_detection
    with patch.object(service, '_calculate_similarity', side_effect=[0.95, 0.3, 0.2]):
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x15ff79d50&gt; does not have the attribute '_calculate_similarity'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_detect_duplicates_manual_selection" time="0.003"><failure message="AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x1761d95d0&gt; does not have the attribute '_calculate_similarity'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:491: in test_detect_duplicates_manual_selection
    with patch.object(service, '_calculate_similarity', side_effect=[0.88, 0.4, 0.35]):
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x1761d95d0&gt; does not have the attribute '_calculate_similarity'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_merge_duplicates_content_union_strategy" time="0.003"><failure message="assert 0 == 1">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:519: in test_merge_duplicates_content_union_strategy
    assert result['merged_groups'] == 1
E   assert 0 == 1</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_merge_duplicates_latest_version_strategy" time="0.003"><failure message="assert 0 == 1">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:547: in test_merge_duplicates_latest_version_strategy
    assert result['merged_groups'] == 1
E   assert 0 == 1</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_merge_duplicates_preview_mode" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_calculate_quality_score_high_quality_content" time="0.003"><failure message="assert 0.5766749999999999 &gt;= 0.8&#10; +  where 0.5766749999999999 = QualityMetrics(overall_score=0.5766749999999999, content_length_score=0.1945, structure_score=0.2, credibility_score=0.8999999999999999, freshness_score=0.5, relevance_score=0.7, language_score=0.8999999999999999, uniqueness_score=0.95).overall_score">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:595: in test_calculate_quality_score_high_quality_content
    assert quality_metrics.overall_score &gt;= 0.8
E   assert 0.5766749999999999 &gt;= 0.8
E    +  where 0.5766749999999999 = QualityMetrics(overall_score=0.5766749999999999, content_length_score=0.1945, structure_score=0.2, credibility_score=0.8999999999999999, freshness_score=0.5, relevance_score=0.7, language_score=0.8999999999999999, uniqueness_score=0.95).overall_score</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_calculate_quality_score_low_quality_content" time="0.003"><failure message="assert 0.4 &lt; 0.4&#10; +  where 0.4 = QualityMetrics(overall_score=0.39, content_length_score=0.0, structure_score=0.0, credibility_score=0.4, freshness_score=0.5, relevance_score=0.7, language_score=0.9999999999999999, uniqueness_score=1.0).credibility_score">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:617: in test_calculate_quality_score_low_quality_content
    assert quality_metrics.credibility_score &lt; 0.4
E   assert 0.4 &lt; 0.4
E    +  where 0.4 = QualityMetrics(overall_score=0.39, content_length_score=0.0, structure_score=0.0, credibility_score=0.4, freshness_score=0.5, relevance_score=0.7, language_score=0.9999999999999999, uniqueness_score=1.0).credibility_score</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_quality_validation_with_custom_threshold" time="0.003"><failure message="AttributeError: 'AugmentationService' object has no attribute '_passes_quality_threshold'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:631: in test_quality_validation_with_custom_threshold
    assert service._passes_quality_threshold(quality_metrics, threshold=0.9) == False
E   AttributeError: 'AugmentationService' object has no attribute '_passes_quality_threshold'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_auto_assign_collection_ml_content" time="0.003"><failure message="AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x3574cd790&gt; does not have the attribute '_analyze_content_topics'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:648: in test_auto_assign_collection_ml_content
    with patch.object(service, '_analyze_content_topics', return_value={'machine-learning': 0.92, 'AI': 0.85}):
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x3574cd790&gt; does not have the attribute '_analyze_content_topics'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestAugmentationService" name="test_auto_assign_collection_fallback_default" time="0.003"><failure message="AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x176103290&gt; does not have the attribute '_analyze_content_topics'">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:664: in test_auto_assign_collection_fallback_default
    with patch.object(service, '_analyze_content_topics', return_value={'general': 0.4, 'misc': 0.3}):
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;research_agent_backend.core.augmentation_service.AugmentationService object at 0x176103290&gt; does not have the attribute '_analyze_content_topics'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestQualityMetrics" name="test_quality_metrics_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestQualityMetrics" name="test_quality_metrics_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestExternalResult" name="test_external_result_creation_basic" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestExternalResult" name="test_external_result_creation_full_metadata" time="0.000"><failure message="AssertionError: assert 'AI' in ['ai', 'research']&#10; +  where ['ai', 'research'] = ExternalResult(source_url='https://arxiv.org/abs/2301.12345', title='Research Paper', content='Abstract content...', a...datetime(2024, 1, 15, 0, 0, tzinfo=datetime.timezone.utc), tags=['ai', 'research'], metadata={'doi': '10.1000/123456'}).tags">src/research_agent_backend/tests/unit/core/test_augmentation_service.py:736: in test_external_result_creation_full_metadata
    assert "AI" in result.tags
E   AssertionError: assert 'AI' in ['ai', 'research']
E    +  where ['ai', 'research'] = ExternalResult(source_url='https://arxiv.org/abs/2301.12345', title='Research Paper', content='Abstract content...', a...datetime(2024, 1, 15, 0, 0, tzinfo=datetime.timezone.utc), tags=['ai', 'research'], metadata={'doi': '10.1000/123456'}).tags</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestExternalResult" name="test_external_result_url_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestResearchReport" name="test_research_report_creation" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestResearchReport" name="test_research_report_file_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestDocumentUpdate" name="test_document_update_content_only" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestDocumentUpdate" name="test_document_update_metadata_only" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestDocumentUpdate" name="test_document_update_from_file" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestDuplicateGroup" name="test_duplicate_group_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_augmentation_service.TestDuplicateGroup" name="test_duplicate_group_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_feedback_service_initialization_with_dependencies" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_feedback_config_creation_and_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_feedback_config_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_submit_feedback_positive_basic" time="0.002"><failure message="AssertionError: assert 'fb_20250604_101441' == 'fb_001'&#10;  &#10;  - fb_001&#10;  + fb_20250604_101441">src/research_agent_backend/tests/unit/core/test_feedback_service.py:140: in test_submit_feedback_positive_basic
    assert result['feedback_id'] == 'fb_001'
E   AssertionError: assert 'fb_20250604_101441' == 'fb_001'
E     
E     - fb_001
E     + fb_20250604_101441</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_submit_feedback_negative_with_reason" time="0.002"><failure message="AssertionError: assert 'fb_20250604_101441' == 'fb_002'&#10;  &#10;  - fb_002&#10;  + fb_20250604_101441">src/research_agent_backend/tests/unit/core/test_feedback_service.py:170: in test_submit_feedback_negative_with_reason
    assert result['feedback_id'] == 'fb_002'
E   AssertionError: assert 'fb_20250604_101441' == 'fb_002'
E     
E     - fb_002
E     + fb_20250604_101441</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_submit_feedback_with_metadata_validation" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_submit_feedback_anonymous_user" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_submit_feedback_batch_processing" time="0.002"><failure message="assert 3 == 2">src/research_agent_backend/tests/unit/core/test_feedback_service.py:240: in test_submit_feedback_batch_processing
    assert result['successful'] == 2
E   assert 3 == 2</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_update_chunk_quality_score_positive_feedback" time="0.001"><failure message="assert 0.6666666666666666 &gt; 0.75">src/research_agent_backend/tests/unit/core/test_feedback_service.py:262: in test_update_chunk_quality_score_positive_feedback
    assert result['new_quality_score'] &gt; 0.75  # Should increase
E   assert 0.6666666666666666 &gt; 0.75</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_update_chunk_quality_score_negative_feedback" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_quality_score_calculation_with_weighted_feedback" time="0.002"><failure message="assert 0.75 &gt; 0.75">src/research_agent_backend/tests/unit/core/test_feedback_service.py:303: in test_quality_score_calculation_with_weighted_feedback
    assert quality_score &gt; 0.75
E   assert 0.75 &gt; 0.75</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_feedback_analytics_basic" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_feedback_analytics_with_collection_filter" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_feedback_trends_analysis" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_top_issues_analysis" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_export_feedback_csv_format" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_export_feedback_json_format_with_metadata" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_export_feedback_filtered_by_rating" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_validate_feedback_rating_values" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_validate_feedback_reason_categories" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_sanitize_feedback_comment" time="0.001"><failure message="AssertionError: assert 1003 &lt;= 1000&#10; +  where 1003 = len('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA...AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA...')">src/research_agent_backend/tests/unit/core/test_feedback_service.py:523: in test_sanitize_feedback_comment
    assert len(sanitized) &lt;= 1000  # Should be truncated
E   AssertionError: assert 1003 &lt;= 1000
E    +  where 1003 = len('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA...AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA...')</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_feedback_by_chunk_id" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_get_feedback_by_user" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackService" name="test_delete_feedback_with_quality_adjustment" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestUserFeedback" name="test_user_feedback_creation_basic" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestUserFeedback" name="test_user_feedback_creation_full" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestUserFeedback" name="test_user_feedback_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackAnalytics" name="test_feedback_analytics_creation" time="0.000"><failure message="AssertionError: assert 0.7333333333333333 == 0.73&#10; +  where 0.7333333333333333 = FeedbackAnalytics(total_feedback=150, positive_count=110, negative_count=40, positive_ratio=0.7333333333333333, negative_ratio=0.26666666666666666, top_issues=['outdated-info', 'irrelevant-content'], quality_trends=[0.65, 0.71, 0.73]).positive_ratio">src/research_agent_backend/tests/unit/core/test_feedback_service.py:670: in test_feedback_analytics_creation
    assert analytics.positive_ratio == 0.73
E   AssertionError: assert 0.7333333333333333 == 0.73
E    +  where 0.7333333333333333 = FeedbackAnalytics(total_feedback=150, positive_count=110, negative_count=40, positive_ratio=0.7333333333333333, negative_ratio=0.26666666666666666, top_issues=['outdated-info', 'irrelevant-content'], quality_trends=[0.65, 0.71, 0.73]).positive_ratio</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackAnalytics" name="test_feedback_analytics_calculations" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackExportOptions" name="test_export_options_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_feedback_service.TestFeedbackExportOptions" name="test_export_options_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_pipeline_config_creation_and_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_pipeline_config_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_pipeline_processor_initialization_with_config_manager" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_pipeline_processor_initialization_with_direct_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_pipeline_processor_handles_initialization_errors" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_intercept_and_rerank_search_results" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_process_with_disabled_reranking" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_top_k_limiting_before_reranking" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_threshold_filtering_of_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_enhanced_search_engine_integration" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_efficient_data_passing_between_stages" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_zero_copy_data_passing_optimization" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_comprehensive_pipeline_logging" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_performance_monitoring_metrics_collection" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_error_handling_and_monitoring_hooks" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_dynamic_configuration_updates" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_pipeline_integration.TestRerankerPipelineProcessor" name="test_configuration_validation_and_defaults" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_reranker_service_initialization_with_default_model" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_reranker_service_initialization_with_custom_model" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_reranker_service_handles_model_loading_errors" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_reranker_config_creation_and_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_reranker_config_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_rerank_single_query_document_pair" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_rerank_single_result_with_metadata_preservation" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_score_normalization_within_valid_range" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_rerank_multiple_results_batch_processing" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_batch_size_optimization_for_large_inputs" time="0.007" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_empty_candidates_handling" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_integration_with_search_pipeline" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_performance_metrics_collection" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_service.TestRerankerService" name="test_caching_functionality_for_repeated_queries" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_extract_query_keywords" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_extract_quoted_phrases" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_highlight_keywords_basic" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_highlight_keywords_case_insensitive" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_highlight_keywords_no_matches" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_highlight_keywords_empty_input" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_highlight_html_escaping" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestKeywordHighlighter" name="test_custom_highlight_tag" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestSourceAttributionExtractor" name="test_extract_full_attribution" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestSourceAttributionExtractor" name="test_extract_minimal_attribution" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestSourceAttributionExtractor" name="test_extract_attribution_no_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestSourceAttributionExtractor" name="test_infer_document_type" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestSourceAttributionExtractor" name="test_page_number_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_analyze_relevance_high_score" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_analyze_relevance_medium_score" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_analyze_relevance_low_score" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_keyword_density_calculation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_structure_relevance_calculation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_confidence_level_determination" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.core.test_reranker_utils.TestRelevanceAnalyzer" name="test_explanation_generation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestDocumentInsertionManagerHybridIntegration" name="test_manager_initializes_with_hybrid_chunker" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestDocumentInsertionManagerHybridIntegration" name="test_hybrid_chunking_in_document_insertion" time="0.002"><failure message="ValueError: chunk_overlap (300) must be less than chunk_size (300)">src/research_agent_backend/tests/unit/document_insertion/test_manager_hybrid_integration.py:76: in test_hybrid_chunking_in_document_insertion
    manager = DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:164: in __post_init__
    raise ValueError(
E   ValueError: chunk_overlap (300) must be less than chunk_size (300)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestDocumentInsertionManagerHybridIntegration" name="test_hybrid_chunker_metadata_integration" time="0.001"><failure message="ValueError: chunk_overlap (200) must be less than chunk_size (200)">src/research_agent_backend/tests/unit/document_insertion/test_manager_hybrid_integration.py:125: in test_hybrid_chunker_metadata_integration
    manager = DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:164: in __post_init__
    raise ValueError(
E   ValueError: chunk_overlap (200) must be less than chunk_size (200)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestDocumentInsertionManagerHybridIntegration" name="test_hybrid_chunker_preserves_atomic_units" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestDocumentInsertionManagerHybridIntegration" name="test_error_handling_in_hybrid_chunking_pipeline" time="0.001"><failure message="ValueError: chunk_overlap (512) must be less than chunk_size (512)">src/research_agent_backend/tests/unit/document_insertion/test_manager_hybrid_integration.py:266: in test_error_handling_in_hybrid_chunking_pipeline
    manager = DocumentInsertionManager(
src/research_agent_backend/core/document_insertion/manager.py:112: in __init__
    chunking_config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:164: in __post_init__
    raise ValueError(
E   ValueError: chunk_overlap (512) must be less than chunk_size (512)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestHybridChunkerConfigurationIntegration" name="test_configuration_passed_to_hybrid_chunker" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.document_insertion.test_manager_hybrid_integration.TestHybridChunkerConfigurationIntegration" name="test_default_configuration_values" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_atomic_unit_handler_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_detect_atomic_units_in_text" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_detect_code_blocks_fenced_and_indented" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_get_preservation_boundaries" time="0.000"><failure message="AssertionError: assert (15, 47) in [{'end': 13, 'start': 0}, {'end': 47, 'start': 15}, {'end': 59, 'start': 49}]">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_handler.py:97: in test_get_preservation_boundaries
    assert (code_unit.start_position, code_unit.end_position) in boundaries
E   AssertionError: assert (15, 47) in [{'end': 13, 'start': 0}, {'end': 47, 'start': 15}, {'end': 59, 'start': 49}]</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_validate_atomic_unit_integrity" time="0.000"><failure message="AttributeError: 'AtomicUnitHandler' object has no attribute 'validate_unit'">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_handler.py:119: in test_validate_atomic_unit_integrity
    assert handler.validate_unit(valid_unit) == True
E   AttributeError: 'AtomicUnitHandler' object has no attribute 'validate_unit'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitHandler" name="test_merge_overlapping_units" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_registry_creation_with_default_handlers" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_register_custom_handler" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_get_handler_for_unit_type" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_get_all_handlers" time="0.000"><failure message="AttributeError: 'AtomicUnitRegistry' object has no attribute 'get_all_handlers'">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_handler.py:206: in test_get_all_handlers
    all_handlers = registry.get_all_handlers()
E   AttributeError: 'AtomicUnitRegistry' object has no attribute 'get_all_handlers'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_detect_units_with_all_handlers" time="0.000"><failure message="AttributeError: 'AtomicUnitRegistry' object has no attribute 'detect_all_units'">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_handler.py:234: in test_detect_units_with_all_handlers
    all_units = registry.detect_all_units(text)
E   AttributeError: 'AtomicUnitRegistry' object has no attribute 'detect_all_units'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_handler.TestAtomicUnitRegistry" name="test_priority_based_detection" time="0.000"><failure message="AttributeError: 'AtomicUnitRegistry' object has no attribute 'detect_all_units'">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_handler.py:256: in test_priority_based_detection
    units = registry.detect_all_units(text)
E   AttributeError: 'AtomicUnitRegistry' object has no attribute 'detect_all_units'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_integration.TestAtomicUnitIntegration" name="test_atomic_units_integrate_with_recursive_chunker" time="0.001"><failure message="AssertionError: assert 2 == 1&#10; +  where 2 = len([ChunkResult(index=0, length=230, type=code_block, preview='Introduction paragraph.\n\n```python\ndef importan...'), ChunkResult(index=1, length=87, type=table, preview=' Important | Table |\n|-----------|-------|\n|...')])">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_integration.py:62: in test_atomic_units_integrate_with_recursive_chunker
    assert len(table_chunks) == 1
E   AssertionError: assert 2 == 1
E    +  where 2 = len([ChunkResult(index=0, length=230, type=code_block, preview='Introduction paragraph.\n\n```python\ndef importan...'), ChunkResult(index=1, length=87, type=table, preview=' Important | Table |\n|-----------|-------|\n|...')])</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_integration.TestAtomicUnitIntegration" name="test_atomic_units_with_document_tree_chunking" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_integration.TestAtomicUnitIntegration" name="test_atomic_unit_preservation_with_overlap_calculation" time="0.001"><failure message="AssertionError: assert 40 &lt;= 14&#10; +  where 14 = AtomicUnit(unit_type=&lt;AtomicUnitType.CODE_BLOCK: 'code_block'&gt;, content='```python\n# Important code block\ndef proces...on=14, end_position=85, metadata={'line_count': 5, 'language': 'python', 'block_type': 'fenced', 'has_imports': False}).start_position">src/research_agent_backend/tests/unit/document_processor/atomic_units/test_integration.py:148: in test_atomic_unit_preservation_with_overlap_calculation
    assert chunk_start &lt;= code_unit.start_position
E   AssertionError: assert 40 &lt;= 14
E    +  where 14 = AtomicUnit(unit_type=&lt;AtomicUnitType.CODE_BLOCK: 'code_block'&gt;, content='```python\n# Important code block\ndef proces...on=14, end_position=85, metadata={'line_count': 5, 'language': 'python', 'block_type': 'fenced', 'has_imports': False}).start_position</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestCodeBlockHandler" name="test_code_block_handler_detect_fenced_blocks" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestCodeBlockHandler" name="test_code_block_handler_detect_indented_blocks" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestCodeBlockHandler" name="test_code_block_handler_extract_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestCodeBlockHandler" name="test_code_block_handler_validate_unit" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestTableHandler" name="test_table_handler_detect_pipe_tables" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestTableHandler" name="test_table_handler_detect_simple_tables" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestTableHandler" name="test_table_handler_extract_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestTableHandler" name="test_table_handler_validate_unit" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestListHandler" name="test_list_handler_detect_bullet_lists" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestListHandler" name="test_list_handler_detect_numbered_lists" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestListHandler" name="test_list_handler_detect_task_lists" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestListHandler" name="test_list_handler_extract_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestBlockquoteHandler" name="test_blockquote_handler_detect_simple_quotes" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestBlockquoteHandler" name="test_blockquote_handler_detect_nested_quotes" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestBlockquoteHandler" name="test_blockquote_handler_extract_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestParagraphHandler" name="test_paragraph_handler_detect_simple_paragraphs" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestParagraphHandler" name="test_paragraph_handler_ignore_other_atomic_units" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_specialized_handlers.TestParagraphHandler" name="test_paragraph_handler_extract_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnitType" name="test_atomic_unit_type_enum_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnitType" name="test_atomic_unit_type_string_representation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_creation_with_basic_info" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_get_length" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_contains_position" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_get_boundaries" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_to_dict_serialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.atomic_units.test_types.TestAtomicUnit" name="test_atomic_unit_overlaps_with_range" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_chunk_boundary_creation_with_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_find_sentence_boundary_preserves_sentences" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_find_paragraph_boundary_preserves_paragraphs" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_find_word_boundary_fallback" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_boundary_respects_markup_elements" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_boundary.TestChunkBoundary" name="test_boundary_handles_code_blocks" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_recursive_chunker_creation_with_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunk_text_simple_case" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunk_text_multiple_chunks_needed" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunk_text_with_overlap" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunk_sections_from_document_tree" time="0.001"><failure message="AttributeError: 'RecursiveChunker' object has no attribute 'chunk_sections'">src/research_agent_backend/tests/unit/document_processor/chunking/test_chunker.py:73: in test_chunk_sections_from_document_tree
    result = chunker.chunk_sections(tree)
E   AttributeError: 'RecursiveChunker' object has no attribute 'chunk_sections'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_recursive_chunking_preserves_sentence_boundaries" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_recursive_chunking_handles_empty_sections" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunk_with_markdown_elements" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_chunking_respects_minimum_chunk_size" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_chunker.TestRecursiveChunker" name="test_get_chunking_statistics" time="0.000"><failure message="AttributeError: 'RecursiveChunker' object has no attribute 'get_chunking_statistics'">src/research_agent_backend/tests/unit/document_processor/chunking/test_chunker.py:149: in test_get_chunking_statistics
    stats = chunker.get_chunking_statistics(chunks)
E   AttributeError: 'RecursiveChunker' object has no attribute 'get_chunking_statistics'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_config.TestChunkConfig" name="test_chunk_config_creation_with_defaults" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_config.TestChunkConfig" name="test_chunk_config_creation_with_custom_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_config.TestChunkConfig" name="test_chunk_config_validation_chunk_size_positive" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_config.TestChunkConfig" name="test_chunk_config_validation_overlap_reasonable" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_config.TestChunkConfig" name="test_chunk_config_validation_min_chunk_size" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_hybrid_chunker_creation_with_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_hybrid_chunker_invalid_config_raises_error" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_document_empty_content_returns_empty_result" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_document_invalid_content_type_raises_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_simple_markdown_document" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_document_with_frontmatter" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_document_with_code_blocks" time="0.002"><failure message="AssertionError: assert 'unknown' == 'python'&#10;  &#10;  - python&#10;  + unknown">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:154: in test_chunk_document_with_code_blocks
    assert chunk.metadata['code_language'] == 'python'
E   AssertionError: assert 'unknown' == 'python'
E     
E     - python
E     + unknown</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_document_with_tables" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_header_hierarchy_metadata" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_oversized_atomic_units" time="0.000"><failure message="ValueError: min_chunk_size (100) should not exceed half of chunk_size (50)">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:228: in test_chunk_oversized_atomic_units
    config = ChunkConfig(
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:178: in __post_init__
    raise ValueError(
E   ValueError: min_chunk_size (100) should not exceed half of chunk_size (50)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_without_headers" time="0.003"><failure message="AssertionError: assert 'paragraph' == 'prose'&#10;  &#10;  - prose&#10;  + paragraph">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:285: in test_chunk_without_headers
    assert chunk.metadata['content_type'] == 'prose'
E   AssertionError: assert 'paragraph' == 'prose'
E     
E     - prose
E     + paragraph</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_processing_statistics" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_reset_statistics" time="0.002"><failure message="AttributeError: 'ChunkResult' object has no attribute 'metadata'">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:321: in test_reset_statistics
    chunker.chunk_document("# Test\nContent", document_id="test")
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:204: in chunk_document
    self._attach_rich_metadata(
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:562: in _attach_rich_metadata
    if chunk.metadata is None:
E   AttributeError: 'ChunkResult' object has no attribute 'metadata'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_atomic_unit_preservation_configuration" time="0.002"><failure message="AttributeError: 'ChunkResult' object has no attribute 'metadata'">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:357: in test_atomic_unit_preservation_configuration
    result_disabled = chunker_disabled.chunk_document(document, document_id="test_disabled")
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:204: in chunk_document
    self._attach_rich_metadata(
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:562: in _attach_rich_metadata
    if chunk.metadata is None:
E   AttributeError: 'ChunkResult' object has no attribute 'metadata'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_source_path_metadata" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunker" name="test_chunk_sequence_ids" time="0.000"><failure message="ValueError: min_chunk_size (100) should not exceed half of chunk_size (75)">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:399: in test_chunk_sequence_ids
    config = ChunkConfig(chunk_size=150, chunk_overlap=15)  # Small chunks to ensure multiple
&lt;string&gt;:22: in __init__
    ???
src/research_agent_backend/core/document_processor/chunking/config.py:178: in __post_init__
    raise ValueError(
E   ValueError: min_chunk_size (100) should not exceed half of chunk_size (75)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunkerEdgeCases" name="test_document_with_only_frontmatter" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunkerEdgeCases" name="test_document_with_empty_sections" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunkerEdgeCases" name="test_very_long_single_section" time="0.003"><failure message="AttributeError: 'ChunkResult' object has no attribute 'metadata'">src/research_agent_backend/tests/unit/document_processor/chunking/test_hybrid_chunker.py:478: in test_very_long_single_section
    result = chunker.chunk_document(document, document_id="long_section")
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:196: in chunk_document
    section_chunks = self._chunk_section_with_atomic_preservation(
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:363: in _chunk_section_with_atomic_preservation
    large_unit_chunks = self._chunk_oversized_atomic_unit(unit, section)
src/research_agent_backend/core/document_processor/chunking/hybrid_chunker.py:491: in _chunk_oversized_atomic_unit
    chunk.metadata = chunk.metadata or {}
E   AttributeError: 'ChunkResult' object has no attribute 'metadata'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_hybrid_chunker.TestHybridChunkerIntegration" name="test_integration_with_all_components" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_result.TestChunkResult" name="test_chunk_result_creation_with_content" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_result.TestChunkResult" name="test_chunk_result_get_length" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_result.TestChunkResult" name="test_chunk_result_has_overlap_detection" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.chunking.test_result.TestChunkResult" name="test_chunk_result_to_dict_serialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_frontmatter_parser_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_yaml_frontmatter_basic" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_yaml_frontmatter_complex" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_toml_frontmatter_basic" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_toml_frontmatter_complex" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_no_frontmatter" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_invalid_yaml_frontmatter" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_parse_invalid_toml_frontmatter" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_detect_frontmatter_type_yaml" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_frontmatter.TestFrontmatterParser" name="test_detect_frontmatter_type_toml" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_inline_metadata_extractor_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_simple_tags" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_key_value_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_json_metadata_blocks" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_custom_tag_patterns" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_with_position_tracking" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_inline.TestInlineMetadataExtractor" name="test_extract_removes_metadata_from_content" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_integration.TestMetadataIntegration" name="test_full_metadata_extraction_pipeline" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_integration.TestMetadataIntegration" name="test_metadata_extraction_with_document_chunking" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_integration.TestMetadataIntegration" name="test_metadata_search_and_retrieval" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_metadata_registry_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_register_document_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_query_by_tags" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_query_by_metadata_key_value" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_query_by_author" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_complex_query_combinations" time="0.000"><failure message="AttributeError: 'MetadataRegistry' object has no attribute 'query_complex'">src/research_agent_backend/tests/unit/document_processor/metadata/test_registry.py:143: in test_complex_query_combinations
    results = registry.query_complex(
E   AttributeError: 'MetadataRegistry' object has no attribute 'query_complex'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_metadata_aggregation" time="0.000"><failure message="KeyError: 'tag_frequencies'">src/research_agent_backend/tests/unit/document_processor/metadata/test_registry.py:169: in test_metadata_aggregation
    assert "python" in stats["tag_frequencies"]
E   KeyError: 'tag_frequencies'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.document_processor.metadata.test_registry.TestMetadataRegistry" name="test_registry_update_and_removal" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentSection" name="test_document_section_creation_with_basic_info" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentSection" name="test_document_section_add_child_section" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentSection" name="test_document_section_get_depth" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentSection" name="test_document_section_get_all_content" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentSection" name="test_document_section_find_child_by_title" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentTree" name="test_document_tree_creation_with_root_section" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentTree" name="test_document_tree_add_section_creates_hierarchy" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentTree" name="test_document_tree_find_section_by_title" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentTree" name="test_document_tree_get_sections_by_level" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestDocumentTree" name="test_document_tree_to_dict_serialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_header_splitter_creation_with_parser" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_split_by_headers_simple_document" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_split_by_headers_nested_hierarchy" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_build_tree_from_sections" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_split_and_build_tree_end_to_end" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_split_document_without_headers" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestHeaderBasedSplitter" name="test_extract_content_between_headers" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_section_extractor_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_extract_section_by_title" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_extract_sections_by_level_range" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_extract_section_with_children" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_extract_table_of_contents" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_document_structure.TestSectionExtractor" name="test_extract_sections_matching_pattern" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestPattern" name="test_pattern_creation_with_name_and_regex" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestPattern" name="test_pattern_match_finds_header" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestPattern" name="test_pattern_match_returns_none_for_no_match" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestPattern" name="test_pattern_findall_returns_all_matches" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestPattern" name="test_pattern_with_invalid_regex_raises_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestRule" name="test_rule_creation_with_pattern_and_replacement" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestRule" name="test_rule_apply_transforms_bold_text" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestRule" name="test_rule_apply_transforms_multiple_occurrences" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestRule" name="test_rule_apply_with_no_matches_returns_original" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestRule" name="test_rule_with_complex_header_transformation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_creation_with_default_rules" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_creation_with_custom_rules" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_add_rule_appends_to_rules_list" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_transforms_headers" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_transforms_bold_text" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_transforms_italic_text" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_transforms_links" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_handles_complex_document" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_preserves_non_markdown_text" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_handles_empty_string" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_parse_handles_whitespace_only" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_get_pattern_by_name_returns_correct_pattern" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_get_pattern_by_name_returns_none_for_unknown" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParser" name="test_parser_rule_application_order_matters" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParseError" name="test_markdown_parse_error_is_exception" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParseError" name="test_markdown_parse_error_with_pattern_info" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParserIntegration" name="test_full_markdown_document_parsing" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParserIntegration" name="test_nested_formatting_combinations" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.document_processor.test_markdown_parser.TestMarkdownParserIntegration" name="test_edge_cases_and_malformed_markdown" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_generate_model_fingerprint_openai" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_generate_model_fingerprint_anthropic" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_generate_model_fingerprint_custom_provider" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_check_model_changed_first_time" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_check_model_changed_same_model" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_check_model_changed_different_model" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_check_model_changed_different_provider" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_invalidate_cache_on_change_with_change" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceModelChangeDetection" name="test_invalidate_cache_on_change_no_change" time="0.002"><failure message="assert None == 1536&#10; +  where None = &lt;src.research_agent_backend.core.api_embedding_service.service.APIEmbeddingService object at 0x177de2810&gt;._cached_dimension">src/research_agent_backend/tests/unit/test_api_embedding_service.py:209: in test_invalidate_cache_on_change_no_change
    assert service._cached_dimension == 1536
E   assert None == 1536
E    +  where None = &lt;src.research_agent_backend.core.api_embedding_service.service.APIEmbeddingService object at 0x177de2810&gt;._cached_dimension</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_connection_error" time="0.000"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_timeout_error" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_401_authentication_error" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_429_rate_limit_error" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_500_server_error" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_invalid_json_response" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_missing_data_field" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceErrorHandling" name="test_embed_text_missing_embedding_field" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceProviderSpecific" name="test_openai_provider_request_format" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceProviderSpecific" name="test_anthropic_provider_request_format" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceProviderSpecific" name="test_custom_provider_request_format" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceBatchProcessingEdgeCases" name="test_embed_batch_large_batch_chunking" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceBatchProcessingEdgeCases" name="test_embed_batch_partial_failure_handling" time="0.001"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIConfigurationEdgeCases" name="test_api_configuration_with_all_optional_fields" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIConfigurationEdgeCases" name="test_api_configuration_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIConfigurationEdgeCases" name="test_api_configuration_validation_empty_api_key" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIConfigurationEdgeCases" name="test_api_configuration_validation_empty_provider" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceUtilityMethods" name="test_get_model_info" time="0.600" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceUtilityMethods" name="test_get_embedding_dimension_from_config" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceUtilityMethods" name="test_is_model_available_true" time="0.002"><failure message="AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
E   AttributeError: module 'src.research_agent_backend.core.api_embedding_service' has no attribute 'requests'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_api_embedding_service.TestAPIEmbeddingServiceUtilityMethods" name="test_is_model_available_false" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCreateCollectionCommand" name="test_create_collection_basic_functionality" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCreateCollectionCommand" name="test_create_collection_with_different_types" time="0.057" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCreateCollectionCommand" name="test_create_collection_already_exists_error" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCreateCollectionCommand" name="test_create_collection_dry_run_mode" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestListCollectionsCommand" name="test_list_collections_basic_functionality" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestListCollectionsCommand" name="test_list_collections_with_stats" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestListCollectionsCommand" name="test_list_collections_filter_by_type" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestListCollectionsCommand" name="test_list_collections_empty_result" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCollectionInfoCommand" name="test_collection_info_basic_functionality" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestCollectionInfoCommand" name="test_collection_info_not_found" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestDeleteCollectionCommand" name="test_delete_collection_with_confirmation" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestDeleteCollectionCommand" name="test_delete_collection_interactive_confirmation" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestDeleteCollectionCommand" name="test_delete_collection_interactive_cancel" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestDeleteCollectionCommand" name="test_delete_collection_not_found" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestDeleteCollectionCommand" name="test_delete_collection_dry_run_mode" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestRenameCollectionCommand" name="test_rename_collection_basic_functionality" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_cli_collections.py:429: in test_rename_collection_basic_functionality
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestRenameCollectionCommand" name="test_rename_collection_source_not_found" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestRenameCollectionCommand" name="test_rename_collection_target_exists" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestMoveDocumentsCommand" name="test_move_documents_basic_functionality" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_cli_collections.py:505: in test_move_documents_basic_functionality
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestMoveDocumentsCommand" name="test_move_documents_with_pattern" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_cli_collections.py:536: in test_move_documents_with_pattern
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestMoveDocumentsCommand" name="test_move_documents_source_not_found" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_collections.TestMoveDocumentsCommand" name="test_move_documents_interactive_confirmation" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_cli_collections.py:587: in test_move_documents_interactive_confirmation
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_cli_app_creation" time="0.015" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_setup_logging_verbose" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_setup_logging_normal" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_get_config_manager_success" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_get_config_manager_configuration_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_get_logger" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_handle_cli_error_configuration_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_handle_cli_error_file_not_found" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_handle_cli_error_permission_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_handle_cli_error_generic" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_cli_main_success" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_cli_main_keyboard_interrupt" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIFramework" name="test_cli_main_generic_exception" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommands" name="test_info_command_success" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommands" name="test_info_command_config_error" time="0.010" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommands" name="test_version_command_success" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommands" name="test_version_command_fallback" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIGlobalOptions" name="test_verbose_option" time="0.019" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIGlobalOptions" name="test_config_path_option" time="0.014" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIGlobalOptions" name="test_dry_run_option" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLIGlobalOptions" name="test_help_option" time="0.015" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommandGroups" name="test_kb_command_group" time="0.015" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommandGroups" name="test_collections_command_group" time="0.014" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommandGroups" name="test_projects_command_group" time="0.015" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommandGroups" name="test_query_command_group" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_framework.TestCLICommandGroups" name="test_placeholder_commands_return_todo" time="0.011"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_cli_framework.py:396: in test_placeholder_commands_return_todo
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_basic_functionality" time="0.016" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_recursive_mode" time="0.016" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_non_recursive_mode" time="0.016" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_pattern_filtering" time="0.017" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_progress_tracking" time="0.016" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_error_handling" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_empty_folder" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_dry_run_mode" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_metadata_extraction" time="0.017" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestIngestFolderCommand" name="test_ingest_folder_batch_processing" time="0.016" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestAddDocumentCommand" name="test_add_document_basic_functionality" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestAddDocumentCommand" name="test_add_document_force_mode" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestAddDocumentCommand" name="test_add_document_file_not_found" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestAddDocumentCommand" name="test_add_document_dry_run_mode" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestListDocumentsCommand" name="test_list_documents_basic_functionality" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestListDocumentsCommand" name="test_list_documents_with_collection_filter" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestListDocumentsCommand" name="test_list_documents_with_limit" time="0.014" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestListDocumentsCommand" name="test_list_documents_empty_result" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestRemoveDocumentCommand" name="test_remove_document_basic_functionality" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestRemoveDocumentCommand" name="test_remove_document_with_confirm_flag" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestRemoveDocumentCommand" name="test_remove_document_user_cancellation" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_knowledge_base.TestRemoveDocumentCommand" name="test_remove_document_dry_run_mode" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_basic_functionality" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_with_description" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_project_not_found" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_collection_not_found" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_already_linked" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestLinkCollectionCommand" name="test_link_collection_dry_run_mode" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestUnlinkCollectionCommand" name="test_unlink_collection_basic_functionality" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestUnlinkCollectionCommand" name="test_unlink_collection_with_confirmation" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestUnlinkCollectionCommand" name="test_unlink_collection_not_linked" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestSetDefaultCollectionsCommand" name="test_set_default_collections_single_collection" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestSetDefaultCollectionsCommand" name="test_set_default_collections_multiple_collections" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestSetDefaultCollectionsCommand" name="test_set_default_collections_append_mode" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestSetDefaultCollectionsCommand" name="test_set_default_collections_clear_existing" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestListProjectCollectionsCommand" name="test_list_project_collections_basic_functionality" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestListProjectCollectionsCommand" name="test_list_project_collections_with_stats" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestListProjectCollectionsCommand" name="test_list_project_collections_defaults_only" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestListProjectCollectionsCommand" name="test_list_project_collections_empty_project" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectContextDetection" name="test_detect_project_from_path" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectContextDetection" name="test_detect_project_no_match" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectContextDetection" name="test_set_explicit_project_context" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectMetadataStorage" name="test_create_project_metadata" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectMetadataStorage" name="test_update_project_metadata" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_cli_projects.TestProjectMetadataStorage" name="test_get_project_metadata" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_default_model_integration_fields" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_update_model_fingerprint" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_set_reindex_status_completed" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_set_reindex_status_failed" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_set_reindex_status_in_progress_no_timestamp" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_set_reindex_status_no_timestamp_update" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_requires_reindexing_no_fingerprint" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_requires_reindexing_fingerprint_mismatch" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_requires_reindexing_status_pending" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_requires_reindexing_status_failed" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_requires_reindexing_false" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_is_model_compatible_no_stored_info" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_is_model_compatible_true" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_is_model_compatible_fingerprint_mismatch" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_is_model_compatible_name_mismatch" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_is_model_compatible_not_completed" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_get_reindex_progress_info" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_get_reindex_progress_info_no_timestamp" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_to_dict_includes_model_fields" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_to_dict_none_timestamp" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestCollectionMetadataModelIntegration" name="test_backward_compatibility" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestReindexStatusEnum" name="test_valid_reindex_statuses" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_collection_metadata_model_integration.TestReindexStatusEnum" name="test_reindex_status_in_progress_info" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigPaths" name="test_default_paths" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerInitialization" name="test_init_with_defaults" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerInitialization" name="test_init_with_custom_params" time="0.001"><failure message="AssertionError: assert PosixPath('/private/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') == PosixPath('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte')&#10; +  where PosixPath('/private/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') = &lt;research_agent_backend.utils.config.manager.ConfigManager object at 0x34d72b4d0&gt;.project_root&#10; +  and   PosixPath('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') = Path('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte')">src/research_agent_backend/tests/unit/test_config.py:58: in test_init_with_custom_params
    assert config_manager.project_root == Path(temp_dir)
E   AssertionError: assert PosixPath('/private/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') == PosixPath('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte')
E    +  where PosixPath('/private/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') = &lt;research_agent_backend.utils.config.manager.ConfigManager object at 0x34d72b4d0&gt;.project_root
E    +  and   PosixPath('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte') = Path('/var/folders/fg/ks9y5zkx3qj81zv22vp0gxq80000gn/T/tmphwo8mnte')</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerInitialization" name="test_init_with_env_loading" time="0.000"><failure message="AttributeError: &lt;module 'research_agent_backend.utils.config' from '/Users/kermit/Code/reflow/src/research_agent_backend/utils/config/__init__.py'&gt; does not have the attribute 'load_dotenv'">/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1375: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'research_agent_backend.utils.config' from '/Users/kermit/Code/reflow/src/research_agent_backend/utils/config/__init__.py'&gt; does not have the attribute 'load_dotenv'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_load_config_basic" time="0.004"><failure message="AssertionError: assert {'api_keys': ...ion': '1.0.0'} == {'embedding_m...ion': '1.0.0'}&#10;  &#10;  Omitting 3 identical items, use -vv to show&#10;  Left contains 1 more item:&#10;  {'api_keys': {'anthropic': 'test_anthropic_key',&#10;                'azure_openai': 'your_azure_key_here',&#10;                'google': 'your_google_api_key_here',&#10;                'mistral': 'your_mistral_key_here',...&#10;  &#10;  ...Full output truncated (5 lines hidden), use '-vv' to show">src/research_agent_backend/tests/unit/test_config.py:107: in test_load_config_basic
    assert loaded_config == self.config_data
E   AssertionError: assert {'api_keys': ...ion': '1.0.0'} == {'embedding_m...ion': '1.0.0'}
E     
E     Omitting 3 identical items, use -vv to show
E     Left contains 1 more item:
E     {'api_keys': {'anthropic': 'test_anthropic_key',
E                   'azure_openai': 'your_azure_key_here',
E                   'google': 'your_google_api_key_here',
E                   'mistral': 'your_mistral_key_here',...
E     
E     ...Full output truncated (5 lines hidden), use '-vv' to show</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_config_property_lazy_loading" time="0.008"><failure message="AssertionError: assert {'api': {'ret...er_id']}, ...} == {'embedding_m...ion': '1.0.0'}&#10;  &#10;  Omitting 1 identical items, use -vv to show&#10;  Differing items:&#10;  {'logging': {'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'level': 'INFO'}} != {'logging': {'level': 'INFO'}}&#10;  {'version': '1.2.0'} != {'version': '1.0.0'}&#10;  Left contains 7 more items:&#10;  {'api': {'retry_attempts': 3, 'retry_delay': 1.0, 'timeout': 30},...&#10;  &#10;  ...Full output truncated (28 lines hidden), use '-vv' to show">src/research_agent_backend/tests/unit/test_config.py:121: in test_config_property_lazy_loading
    assert config == self.config_data
E   AssertionError: assert {'api': {'ret...er_id']}, ...} == {'embedding_m...ion': '1.0.0'}
E     
E     Omitting 1 identical items, use -vv to show
E     Differing items:
E     {'logging': {'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'level': 'INFO'}} != {'logging': {'level': 'INFO'}}
E     {'version': '1.2.0'} != {'version': '1.0.0'}
E     Left contains 7 more items:
E     {'api': {'retry_attempts': 3, 'retry_delay': 1.0, 'timeout': 30},...
E     
E     ...Full output truncated (28 lines hidden), use '-vv' to show</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_get_method_dot_notation" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_set_method_dot_notation" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_has_method" time="0.008"><failure message="AssertionError: assert not True&#10; +  where True = has('nonexistent')&#10; +    where has = &lt;research_agent_backend.utils.config.manager.ConfigManager object at 0x3508598d0&gt;.has">src/research_agent_backend/tests/unit/test_config.py:160: in test_has_method
    assert not config_manager.has("nonexistent")
E   AssertionError: assert not True
E    +  where True = has('nonexistent')
E    +    where has = &lt;research_agent_backend.utils.config.manager.ConfigManager object at 0x3508598d0&gt;.has</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_reset_method" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerBasicOperations" name="test_reload_config" time="0.006" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerMerging" name="test_deep_merge_dicts" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerMerging" name="test_merge_configs_public_method" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerMerging" name="test_config_inheritance_basic" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerMerging" name="test_circular_inheritance_detection" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerEnvironmentVariables" name="test_environment_overrides" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerEnvironmentVariables" name="test_convert_env_value_types" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerEnvironmentVariables" name="test_convert_env_value_errors" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerEnvironmentVariables" name="test_get_env_var" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerEnvironmentVariables" name="test_validate_required_env_vars" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerValidation" name="test_schema_loading" time="0.001"><failure message="TypeError: ConfigManager._load_schema() missing 1 required positional argument: 'schema_file'">src/research_agent_backend/tests/unit/test_config.py:454: in test_schema_loading
    loaded_schema = config_manager._load_schema()
E   TypeError: ConfigManager._load_schema() missing 1 required positional argument: 'schema_file'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerValidation" name="test_valid_config_validation" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerValidation" name="test_invalid_config_validation" time="0.001"><failure message="TypeError: expected str, bytes or os.PathLike object, not dict">src/research_agent_backend/tests/unit/test_config.py:484: in test_invalid_config_validation
    config_manager._validate_config_against_schema(invalid_config, self.schema)
src/research_agent_backend/utils/config/manager.py:619: in _validate_config_against_schema
    return self.schema_validator.validate_config(config, schema)
src/research_agent_backend/utils/config/schema_validation.py:157: in validate_config
    schema = self.load_schema(schema_file)
src/research_agent_backend/utils/config/schema_validation.py:63: in load_schema
    schema_file = self.file_ops.resolve_path(schema_file)
src/research_agent_backend/utils/config/file_operations.py:55: in resolve_path
    path_obj = Path(path)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:871: in __new__
    self = cls._from_parts(args)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:509: in _from_parts
    drv, root, parts = self._parse_args(args)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/pathlib.py:493: in _parse_args
    a = os.fspath(a)
E   TypeError: expected str, bytes or os.PathLike object, not dict</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerValidation" name="test_validation_during_load" time="0.009"><failure message="AssertionError: assert {'api': {'ret...er_id']}, ...} == {'embedding_m...ion': '1.0.0'}&#10;  &#10;  Omitting 1 identical items, use -vv to show&#10;  Differing items:&#10;  {'version': '1.2.0'} != {'version': '1.0.0'}&#10;  Left contains 8 more items:&#10;  {'api': {'retry_attempts': 3, 'retry_delay': 1.0, 'timeout': 30},&#10;   'api_keys': {'anthropic': 'test_anthropic_key',...&#10;  &#10;  ...Full output truncated (29 lines hidden), use '-vv' to show">src/research_agent_backend/tests/unit/test_config.py:496: in test_validation_during_load
    assert config == self.valid_config
E   AssertionError: assert {'api': {'ret...er_id']}, ...} == {'embedding_m...ion': '1.0.0'}
E     
E     Omitting 1 identical items, use -vv to show
E     Differing items:
E     {'version': '1.2.0'} != {'version': '1.0.0'}
E     Left contains 8 more items:
E     {'api': {'retry_attempts': 3, 'retry_delay': 1.0, 'timeout': 30},
E      'api_keys': {'anthropic': 'test_anthropic_key',...
E     
E     ...Full output truncated (29 lines hidden), use '-vv' to show</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerErrorHandling" name="test_missing_config_file" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerErrorHandling" name="test_invalid_json_file" time="0.134" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerErrorHandling" name="test_permission_error" time="0.243" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerErrorHandling" name="test_diagnose_config_issues" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerErrorHandling" name="test_get_config_summary" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config.TestConfigManagerIntegration" name="test_full_config_pipeline" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_detect_config_version_explicit" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_detect_config_version_inferred" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_detect_config_version_unknown" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_needs_migration" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_migrate_config_v1_0_to_v1_2" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_migrate_config_v1_1_to_v1_2" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_migrate_config_no_migration_needed" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_create_backup" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_restore_backup" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationMigrator" name="test_migrate_config_file" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationValidator" name="test_validate_and_migrate_with_auto_migration" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationValidator" name="test_validate_and_migrate_without_auto_migration" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationValidator" name="test_inject_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigurationValidator" name="test_validate_fields_warnings" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigManagerMigrationIntegration" name="test_config_manager_auto_migration" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigManagerMigrationIntegration" name="test_config_manager_no_auto_migration" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigManagerMigrationIntegration" name="test_config_manager_manual_migration" time="0.010" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigManagerMigrationIntegration" name="test_config_manager_backup_restore" time="0.015" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestConfigManagerMigrationIntegration" name="test_config_manager_save_config" time="0.008"><failure message="AttributeError: 'FileOperations' object has no attribute 'save_config'">src/research_agent_backend/tests/unit/test_config_migration.py:472: in test_config_manager_save_config
    config_manager.save_config()
src/research_agent_backend/utils/config/manager.py:542: in save_config
    self.file_ops.save_config(self._config, save_path)
E   AttributeError: 'FileOperations' object has no attribute 'save_config'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestMigrationErrorHandling" name="test_backup_nonexistent_file" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestMigrationErrorHandling" name="test_restore_nonexistent_backup" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_config_migration.TestMigrationErrorHandling" name="test_migrate_invalid_config" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_create_bridge_with_config_manager" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_map_config_to_chunk_config_basic" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_map_boundary_strategy_from_config" time="0.108" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_apply_config_overrides" time="0.009" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_validate_config_against_schema" time="0.009"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">src/research_agent_backend/tests/unit/test_configuration_integration.py:146: in test_validate_config_against_schema
    with pytest.raises(ValueError, match="Invalid chunking configuration"):
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_hot_reload_configuration_changes" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestChunkingConfigBridge" name="test_fallback_to_defaults_on_missing_config" time="0.007" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_create_factory_with_config_bridge" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_create_configured_markdown_parser" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_create_configured_header_splitter" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_create_configured_recursive_chunker" time="0.007" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_create_processing_pipeline_from_config" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_factory_caches_components" time="0.008" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestDocumentProcessorFactory" name="test_factory_invalidates_cache_on_config_change" time="0.008"><failure message="assert 500 != 500&#10; +  where 500 = ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False).chunk_size&#10; +    where ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False) = RecursiveChunker(chunk_size=500, overlap=50, strategy=intelligent).config&#10; +  and   500 = ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False).chunk_size&#10; +    where ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False) = RecursiveChunker(chunk_size=500, overlap=50, strategy=intelligent).config">src/research_agent_backend/tests/unit/test_configuration_integration.py:380: in test_factory_invalidates_cache_on_config_change
    assert chunker1.config.chunk_size != chunker2.config.chunk_size
E   assert 500 != 500
E    +  where 500 = ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False).chunk_size
E    +    where ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False) = RecursiveChunker(chunk_size=500, overlap=50, strategy=intelligent).config
E    +  and   500 = ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False).chunk_size
E    +    where ChunkConfig(size=500, overlap=50, strategy=intelligent, performance=False) = RecursiveChunker(chunk_size=500, overlap=50, strategy=intelligent).config</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_create_configurator" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_configure_header_splitting_rules" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_configure_atomic_unit_preservation" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_configure_boundary_strategy_rules" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_dynamic_rule_generation" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestMarkdownParserConfigurator" name="test_performance_mode_optimization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestConfigurationIntegration" name="test_end_to_end_configuration_workflow" time="0.009"><failure message="AttributeError: 'RecursiveChunker' object has no attribute 'chunk_sections'">src/research_agent_backend/tests/unit/test_configuration_integration.py:573: in test_end_to_end_configuration_workflow
    chunked_sections = chunker.chunk_sections(tree)
E   AttributeError: 'RecursiveChunker' object has no attribute 'chunk_sections'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestConfigurationIntegration" name="test_plugin_system_registration" time="0.002"><failure message="TypeError: config_bridge must be ChunkingConfigBridge, got: &lt;class 'src.research_agent_backend.utils.config.manager.ConfigManager'&gt;">src/research_agent_backend/tests/unit/test_configuration_integration.py:599: in test_plugin_system_registration
    factory = DocumentProcessorFactory(config_manager)
src/research_agent_backend/utils/document_processor_factory.py:84: in __init__
    raise TypeError(f"config_bridge must be ChunkingConfigBridge, got: {type(config_bridge)}")
E   TypeError: config_bridge must be ChunkingConfigBridge, got: &lt;class 'src.research_agent_backend.utils.config.manager.ConfigManager'&gt;</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestConfigurationIntegration" name="test_configuration_validation_errors" time="0.016"><failure message="Failed: DID NOT RAISE (&lt;class 'ValueError'&gt;, &lt;class 'TypeError'&gt;)">src/research_agent_backend/tests/unit/test_configuration_integration.py:631: in test_configuration_validation_errors
    with pytest.raises((ValueError, TypeError)):
E   Failed: DID NOT RAISE (&lt;class 'ValueError'&gt;, &lt;class 'TypeError'&gt;)</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_configuration_integration.TestConfigurationIntegration" name="test_hot_reload_processing_pipeline" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_use_advanced_recursive_chunker" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_support_streaming_processing_for_large_documents" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_optimize_batch_embedding_generation" time="0.033" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_support_parallel_document_processing" time="0.068" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_implement_intelligent_caching_layer" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestOptimizedDocumentInsertionManager" name="test_should_collect_performance_metrics" time="0.018" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestAdvancedChunkingIntegration" name="test_should_integrate_recursive_chunker_with_boundary_strategies" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestAdvancedChunkingIntegration" name="test_should_support_semantic_chunking_strategy" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestStreamingProcessing" name="test_should_process_large_files_with_streaming" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestStreamingProcessing" name="test_should_handle_memory_pressure_gracefully" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestPerformanceOptimization" name="test_should_optimize_embedding_batch_sizes" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestPerformanceOptimization" name="test_should_implement_adaptive_chunk_sizing" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestCachingLayer" name="test_should_cache_chunk_embeddings" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_document_processing_optimization.TestCachingLayer" name="test_should_cache_chunking_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceAbstractBase" name="test_abstract_base_class_cannot_be_instantiated" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceAbstractBase" name="test_abstract_methods_are_defined" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceAbstractBase" name="test_embedding_service_inheritance_structure" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceInterface" name="test_embed_text_method_signature" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceInterface" name="test_embed_batch_method_signature" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceInterface" name="test_get_model_info_method_signature" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceExceptions" name="test_embedding_service_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceExceptions" name="test_model_not_found_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceExceptions" name="test_embedding_dimension_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceExceptions" name="test_batch_processing_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceExceptions" name="test_custom_exceptions_can_be_instantiated" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceValidation" name="test_embedding_dimension_consistency" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceValidation" name="test_empty_input_handling" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestEmbeddingServiceModelInfo" name="test_model_availability_check" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceInheritance" name="test_api_embedding_service_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceInheritance" name="test_api_embedding_service_abstract_methods_implemented" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIConfiguration" name="test_api_configuration_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIConfiguration" name="test_api_configuration_from_environment" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIConfiguration" name="test_api_configuration_missing_key_error" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceInitialization" name="test_api_embedding_service_initialization_with_config" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceInitialization" name="test_api_embedding_service_initialization_from_env" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceInitialization" name="test_api_embedding_service_session_configuration" time="0.001"><failure message="AssertionError: assert False&#10; +  where False = hasattr(&lt;src.research_agent_backend.core.api_embedding_service.service.APIEmbeddingService object at 0x154533210&gt;, '_session')">src/research_agent_backend/tests/unit/test_embedding_service.py:403: in test_api_embedding_service_session_configuration
    assert hasattr(service, '_session')
E   AssertionError: assert False
E    +  where False = hasattr(&lt;src.research_agent_backend.core.api_embedding_service.service.APIEmbeddingService object at 0x154533210&gt;, '_session')</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceTextEmbedding" name="test_embed_text_successful_request" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceTextEmbedding" name="test_embed_text_empty_input_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceTextEmbedding" name="test_embed_text_api_error_handling" time="7.019" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceTextEmbedding" name="test_embed_text_network_error_handling" time="14.027" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceBatchEmbedding" name="test_embed_batch_successful_request" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceBatchEmbedding" name="test_embed_batch_empty_list" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceBatchEmbedding" name="test_embed_batch_with_empty_strings" time="0.002"><failure message="src.research_agent_backend.core.api_embedding_service.exceptions.BatchProcessingError: Batch contains empty texts at positions: [1]. All texts must be non-empty. Please check your input data.">src/research_agent_backend/tests/unit/test_embedding_service.py:619: in test_embed_batch_with_empty_strings
    service.embed_batch(["Hello", "", "world"])
src/research_agent_backend/core/api_embedding_service/service.py:287: in embed_batch
    return self.batch_processor.process_batch(texts)
src/research_agent_backend/core/api_embedding_service/batch_processor.py:77: in process_batch
    raise BatchProcessingError(
E   src.research_agent_backend.core.api_embedding_service.exceptions.BatchProcessingError: Batch contains empty texts at positions: [1]. All texts must be non-empty. Please check your input data.</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceBatchEmbedding" name="test_embed_batch_chunking_large_batches" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceModelInfo" name="test_get_model_info_successful" time="0.529" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceModelInfo" name="test_get_embedding_dimension_from_config" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceModelInfo" name="test_get_embedding_dimension_from_api" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceModelInfo" name="test_is_model_available_with_valid_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceModelInfo" name="test_is_model_available_with_invalid_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceRetryLogic" name="test_retry_on_temporary_failure" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceRetryLogic" name="test_retry_exhaustion" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceCustomExceptions" name="test_api_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceCustomExceptions" name="test_rate_limit_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceCustomExceptions" name="test_authentication_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_service.TestAPIEmbeddingServiceCustomExceptions" name="test_custom_api_exceptions_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedEmbeddingModelManagement" name="test_embedding_service_manager_initialization" time="0.154" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedEmbeddingModelManagement" name="test_automatic_fallback_on_primary_failure" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedEmbeddingModelManagement" name="test_health_check_and_recovery" time="0.013" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestMultiProviderEmbeddingSupport" name="test_document_type_based_service_selection" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestMultiProviderEmbeddingSupport" name="test_batch_processing_across_multiple_services" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedVectorSearchFeatures" name="test_hybrid_search_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedVectorSearchFeatures" name="test_hybrid_search_execution" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestAdvancedVectorSearchFeatures" name="test_custom_similarity_metrics" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestStorageBackendFlexibility" name="test_multi_backend_storage_manager_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestStorageBackendFlexibility" name="test_storage_migration_between_backends" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestStorageBackendFlexibility" name="test_automatic_backend_failover" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestEnhancedMetadataIndexing" name="test_semantic_metadata_enrichment" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestEnhancedMetadataIndexing" name="test_advanced_metadata_indexing" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestEnhancedMetadataIndexing" name="test_metadata_semantic_search" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntelligentCachingLayer" name="test_multi_level_cache_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntelligentCachingLayer" name="test_intelligent_cache_warming" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntelligentCachingLayer" name="test_cache_performance_optimization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntelligentCachingLayer" name="test_embedding_cache_with_model_fingerprinting" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntegrationOptimization" name="test_pipeline_coordination_optimization" time="0.011" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntegrationOptimization" name="test_resource_usage_monitoring" time="1.116" /><testcase classname="src.research_agent_backend.tests.unit.test_embedding_storage_integration.TestIntegratedEnhancements" name="test_end_to_end_enhanced_workflow" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_research_agent_error_base_class" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_configuration_system_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_database_system_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_model_system_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_file_system_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_network_system_error" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_error_severity_enum" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestSystemExceptions" name="test_error_context_handling" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_logging_manager_initialization" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_structured_logger_json_output" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_performance_logger" time="0.110" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_audit_logger" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_log_rotation" time="0.020" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestLoggingManager" name="test_log_level_filtering" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_handler_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_handling_with_context" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_user_friendly_error_formatter" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_recovery_manager" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_recovery_with_retries" time="3.007" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_aggregation_and_reporting" time="0.003" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestErrorHandler" name="test_error_notification_system" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestIntegratedErrorHandlingAndLogging" name="test_error_logging_integration" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestIntegratedErrorHandlingAndLogging" name="test_performance_impact_monitoring" time="0.005" /><testcase classname="src.research_agent_backend.tests.unit.test_error_handling_system.TestIntegratedErrorHandlingAndLogging" name="test_comprehensive_system_health_monitoring" time="0.004" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceInitialization" name="test_local_embedding_service_inheritance" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceInitialization" name="test_default_model_initialization" time="0.002"><failure message="src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()">src/research_agent_backend/core/local_embedding_service.py:384: in get_embedding_dimension
    return len(test_embedding)
E   TypeError: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:59: in test_default_model_initialization
    assert service.get_embedding_dimension() == 384
src/research_agent_backend/core/local_embedding_service.py:386: in get_embedding_dimension
    raise EmbeddingDimensionError(f"Failed to determine embedding dimension: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceInitialization" name="test_custom_model_initialization" time="0.002"><failure message="src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()">src/research_agent_backend/core/local_embedding_service.py:384: in get_embedding_dimension
    return len(test_embedding)
E   TypeError: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:72: in test_custom_model_initialization
    assert service.get_embedding_dimension() == 768
src/research_agent_backend/core/local_embedding_service.py:386: in get_embedding_dimension
    raise EmbeddingDimensionError(f"Failed to determine embedding dimension: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceInitialization" name="test_model_initialization_failure" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceInitialization" name="test_model_cache_directory_configuration" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_text_single_input" time="0.002"><failure message="AssertionError: Expected 'encode' to be called once. Called 3 times.&#10;Calls: [call('test', convert_to_tensor=False),&#10; call('test', convert_to_tensor=False),&#10; call('Hello world', normalize_embeddings=True, convert_to_numpy=True)].">src/research_agent_backend/tests/unit/test_local_embedding_service.py:110: in test_embed_text_single_input
    mock_model.encode.assert_called_once_with("Hello world", convert_to_tensor=False)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:950: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'encode' to be called once. Called 3 times.
E   Calls: [call('test', convert_to_tensor=False),
E    call('test', convert_to_tensor=False),
E    call('Hello world', normalize_embeddings=True, convert_to_numpy=True)].</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_text_empty_input" time="0.001"><failure message="AssertionError: Regex pattern did not match.&#10; Regex: 'Cannot embed empty text'&#10; Input: 'Text cannot be empty'">src/research_agent_backend/tests/unit/test_local_embedding_service.py:126: in test_embed_text_empty_input
    service.embed_text("")
src/research_agent_backend/core/local_embedding_service.py:186: in embed_text
    raise EmbeddingServiceError("Text cannot be empty")
E   src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Text cannot be empty

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:125: in test_embed_text_empty_input
    with pytest.raises(EmbeddingServiceError, match="Cannot embed empty text"):
E   AssertionError: Regex pattern did not match.
E    Regex: 'Cannot embed empty text'
E    Input: 'Text cannot be empty'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_text_model_error" time="0.001"><failure message="AssertionError: Regex pattern did not match.&#10; Regex: 'Failed to generate embedding'&#10; Input: 'Embedding generation failed: Encoding failed'">src/research_agent_backend/core/local_embedding_service.py:197: in embed_text
    embedding = self._model.encode(
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1124: in __call__
    return self._mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1128: in _mock_call
    return self._execute_mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1183: in _execute_mock_call
    raise effect
src/research_agent_backend/core/local_embedding_service.py:380: in get_embedding_dimension
    test_embedding = self._model.encode("test", convert_to_tensor=False)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1124: in __call__
    return self._mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1128: in _mock_call
    return self._execute_mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1183: in _execute_mock_call
    raise effect
src/research_agent_backend/core/local_embedding_service.py:380: in get_embedding_dimension
    test_embedding = self._model.encode("test", convert_to_tensor=False)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1124: in __call__
    return self._mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1128: in _mock_call
    return self._execute_mock_call(*args, **kwargs)
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1183: in _execute_mock_call
    raise effect
E   Exception: Encoding failed

The above exception was the direct cause of the following exception:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:143: in test_embed_text_model_error
    service.embed_text("test")
src/research_agent_backend/core/local_embedding_service.py:213: in embed_text
    raise EmbeddingServiceError(f"Embedding generation failed: {e}") from e
E   src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Embedding generation failed: Encoding failed

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:142: in test_embed_text_model_error
    with pytest.raises(EmbeddingServiceError, match="Failed to generate embedding"):
E   AssertionError: Regex pattern did not match.
E    Regex: 'Failed to generate embedding'
E    Input: 'Embedding generation failed: Encoding failed'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_batch_multiple_inputs" time="0.001"><failure message="AttributeError: 'ModelFingerprint' object has no attribute 'fingerprint'">src/research_agent_backend/tests/unit/test_local_embedding_service.py:161: in test_embed_batch_multiple_inputs
    result = service.embed_batch(texts)
src/research_agent_backend/core/local_embedding_service.py:249: in embed_batch
    model_fingerprint = self.generate_model_fingerprint().fingerprint
E   AttributeError: 'ModelFingerprint' object has no attribute 'fingerprint'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_batch_empty_list" time="0.001"><failure message="AssertionError: Expected 'encode' to not have been called. Called 1 times.&#10;Calls: [call('test', convert_to_tensor=False)].">src/research_agent_backend/tests/unit/test_local_embedding_service.py:181: in test_embed_batch_empty_list
    mock_model.encode.assert_not_called()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:900: in assert_not_called
    raise AssertionError(msg)
E   AssertionError: Expected 'encode' to not have been called. Called 1 times.
E   Calls: [call('test', convert_to_tensor=False)].</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceEmbedding" name="test_embed_batch_with_empty_strings" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceModelInfo" name="test_get_model_info_default_model" time="0.001"><failure message="src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Failed to get model info: Failed to determine embedding dimension: object of type 'Mock' has no len()">src/research_agent_backend/core/local_embedding_service.py:384: in get_embedding_dimension
    return len(test_embedding)
E   TypeError: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/local_embedding_service.py:357: in get_model_info
    "embedding_dimension": self.get_embedding_dimension(),
src/research_agent_backend/core/local_embedding_service.py:386: in get_embedding_dimension
    raise EmbeddingDimensionError(f"Failed to determine embedding dimension: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:211: in test_get_model_info_default_model
    info = service.get_model_info()
src/research_agent_backend/core/local_embedding_service.py:363: in get_model_info
    raise EmbeddingServiceError(f"Failed to get model info: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Failed to get model info: Failed to determine embedding dimension: object of type 'Mock' has no len()</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceModelInfo" name="test_get_model_info_custom_model" time="0.002"><failure message="src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Failed to get model info: Failed to determine embedding dimension: object of type 'Mock' has no len()">src/research_agent_backend/core/local_embedding_service.py:384: in get_embedding_dimension
    return len(test_embedding)
E   TypeError: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/local_embedding_service.py:357: in get_model_info
    "embedding_dimension": self.get_embedding_dimension(),
src/research_agent_backend/core/local_embedding_service.py:386: in get_embedding_dimension
    raise EmbeddingDimensionError(f"Failed to determine embedding dimension: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:232: in test_get_model_info_custom_model
    info = service.get_model_info()
src/research_agent_backend/core/local_embedding_service.py:363: in get_model_info
    raise EmbeddingServiceError(f"Failed to get model info: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingServiceError: Failed to get model info: Failed to determine embedding dimension: object of type 'Mock' has no len()</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceModelInfo" name="test_get_embedding_dimension" time="0.001"><failure message="src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()">src/research_agent_backend/core/local_embedding_service.py:384: in get_embedding_dimension
    return len(test_embedding)
E   TypeError: object of type 'Mock' has no len()

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_local_embedding_service.py:248: in test_get_embedding_dimension
    assert service.get_embedding_dimension() == 384
src/research_agent_backend/core/local_embedding_service.py:386: in get_embedding_dimension
    raise EmbeddingDimensionError(f"Failed to determine embedding dimension: {str(e)}")
E   src.research_agent_backend.core.embedding_service.EmbeddingDimensionError: Failed to determine embedding dimension: object of type 'Mock' has no len()</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceModelInfo" name="test_is_model_available_true" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceModelInfo" name="test_is_model_available_false" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceCaching" name="test_model_caching_enabled" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestLocalEmbeddingServiceCaching" name="test_model_cache_different_models" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestModelCacheManager" name="test_model_cache_manager_singleton" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestModelCacheManager" name="test_get_or_load_model_new_model" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestModelCacheManager" name="test_get_or_load_model_cached_model" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestModelCacheManager" name="test_clear_cache" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestEmbeddingModelConfig" name="test_embedding_model_config_default_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestEmbeddingModelConfig" name="test_embedding_model_config_custom_values" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_local_embedding_service.TestEmbeddingModelConfig" name="test_embedding_model_config_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEnums" name="test_document_type_string_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEnums" name="test_content_type_string_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEnums" name="test_collection_type_string_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEnums" name="test_access_permission_string_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_header_hierarchy_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_add_header" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_get_context_at_depth" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_to_dict_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_from_dict_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_json_serialization" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestHeaderHierarchy" name="test_invalid_json_handling" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestDocumentMetadata" name="test_document_metadata_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestDocumentMetadata" name="test_update_timestamp" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestDocumentMetadata" name="test_to_dict_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestChunkMetadata" name="test_chunk_metadata_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestChunkMetadata" name="test_chromadb_metadata_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestChunkMetadata" name="test_from_chromadb_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestChunkMetadata" name="test_round_trip_chromadb_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestChunkMetadata" name="test_to_dict_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestCollectionMetadata" name="test_collection_metadata_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestCollectionMetadata" name="test_update_stats" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestCollectionMetadata" name="test_add_team_permission" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestCollectionMetadata" name="test_to_dict_conversion" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestMetadataValidator" name="test_validate_string_field" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestMetadataValidator" name="test_validate_integer_field" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestMetadataValidator" name="test_validate_enum_field" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestMetadataValidator" name="test_validate_chunk_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestFactoryFunctions" name="test_create_document_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestFactoryFunctions" name="test_create_chunk_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestFactoryFunctions" name="test_create_collection_metadata" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestDefaultCollectionTypes" name="test_default_collection_types_structure" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestDefaultCollectionTypes" name="test_collection_type_consistency" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEdgeCases" name="test_empty_header_hierarchy_json" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEdgeCases" name="test_malformed_access_permissions" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestEdgeCases" name="test_invalid_datetime_strings" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestAdditionalEdgeCases" name="test_chunk_metadata_from_chromadb_with_invalid_content_type" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestAdditionalEdgeCases" name="test_chunk_metadata_chromadb_validation_with_non_primitive_types" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestAdditionalEdgeCases" name="test_chunk_metadata_from_chromadb_with_invalid_access_permissions" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestAdditionalEdgeCases" name="test_chunk_metadata_update_timestamp_method_coverage" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_metadata_schema.TestAdditionalEdgeCases" name="test_chromadb_metadata_else_clause_coverage" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_equality" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_inequality_different_checksum" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_inequality_different_version" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_to_dict" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_from_dict" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_checksum_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelFingerprint" name="test_model_fingerprint_model_name_validation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_model_change_detector_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_model_change_detector_singleton_pattern" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_register_model_fingerprint" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_detect_model_change_no_previous_model" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_detect_model_change_same_model" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_detect_model_change_different_checksum" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_detect_model_change_different_version" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_get_model_fingerprint_nonexistent" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_list_registered_models" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetector" name="test_clear_all_models" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetectorPersistence" name="test_save_fingerprints_to_file" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetectorPersistence" name="test_load_fingerprints_from_file" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetectorPersistence" name="test_auto_save_on_register" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetectorPersistence" name="test_load_from_nonexistent_file" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeDetectorPersistence" name="test_save_to_invalid_path" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeEvent" name="test_model_change_event_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeEvent" name="test_model_change_event_to_dict" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestLocalEmbeddingServiceIntegration" name="test_local_service_generates_fingerprint" time="0.001"><failure message="KeyError: 'dimension'">src/research_agent_backend/tests/unit/test_model_change_detection.py:602: in test_local_service_generates_fingerprint
    assert fingerprint.metadata["dimension"] == 384
E   KeyError: 'dimension'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestLocalEmbeddingServiceIntegration" name="test_local_service_detects_model_change" time="0.001"><failure message="assert False is True">src/research_agent_backend/tests/unit/test_model_change_detection.py:618: in test_local_service_detects_model_change
    assert changed is True
E   assert False is True</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestLocalEmbeddingServiceIntegration" name="test_local_service_cache_invalidation" time="0.001"><failure message="AttributeError: &lt;src.research_agent_backend.core.enhanced_caching.ModelAwareCacheManager object at 0x35084a9d0&gt; does not have the attribute 'clear_cache'">src/research_agent_backend/tests/unit/test_model_change_detection.py:639: in test_local_service_cache_invalidation
    with patch.object(service._cache_manager, 'clear_cache') as mock_clear:
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;src.research_agent_backend.core.enhanced_caching.ModelAwareCacheManager object at 0x35084a9d0&gt; does not have the attribute 'clear_cache'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestAPIEmbeddingServiceIntegration" name="test_api_service_generates_fingerprint" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestAPIEmbeddingServiceIntegration" name="test_api_service_detects_config_change" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeExceptions" name="test_model_change_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeExceptions" name="test_fingerprint_mismatch_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeExceptions" name="test_persistence_error_inheritance" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestModelChangeExceptions" name="test_custom_exceptions_creation" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestIntegrationScenarios" name="test_complete_model_change_workflow" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_model_change_detection.TestIntegrationScenarios" name="test_cross_service_change_detection" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestEmbeddingCacheIntegration" name="test_embedding_service_with_cache_integration" time="1.896" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestEmbeddingCacheIntegration" name="test_embedding_cache_memory_efficiency" time="15.616"><failure message="KeyError: 'memory_usage_mb'">src/research_agent_backend/tests/unit/test_performance_caching.py:69: in test_embedding_cache_memory_efficiency
    assert cache_stats['memory_usage_mb'] &lt; 100, "Cache should limit memory usage"
E   KeyError: 'memory_usage_mb'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestEmbeddingCacheIntegration" name="test_embedding_cache_ttl_expiration" time="1.161"><failure message="KeyError: 'miss_count'">src/research_agent_backend/tests/unit/test_performance_caching.py:87: in test_embedding_cache_ttl_expiration
    assert cache_stats['miss_count'] &gt; 0, "Should have cache miss after TTL expiration"
E   KeyError: 'miss_count'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestEmbeddingCacheIntegration" name="test_batch_embedding_cache_optimization" time="0.024"><failure message="AttributeError: 'ModelFingerprint' object has no attribute 'fingerprint'">src/research_agent_backend/tests/unit/test_performance_caching.py:97: in test_batch_embedding_cache_optimization
    batch_embeddings = service.embed_batch(texts)
src/research_agent_backend/core/local_embedding_service.py:249: in embed_batch
    model_fingerprint = self.generate_model_fingerprint().fingerprint
E   AttributeError: 'ModelFingerprint' object has no attribute 'fingerprint'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestQueryResultCache" name="test_query_cache_stores_complete_results" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestQueryResultCache" name="test_query_cache_content_based_invalidation" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestQueryResultCache" name="test_query_cache_collection_filtering" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestQueryResultCache" name="test_query_cache_performance_tracking" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestBatchProcessingOptimization" name="test_parallel_batch_processing" time="0.262" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestBatchProcessingOptimization" name="test_adaptive_batch_sizing" time="2.575" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestBatchProcessingOptimization" name="test_memory_efficient_batch_processing" time="1.351" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestCachePerformanceBenchmarking" name="test_embedding_cache_performance_benchmark" time="30.363" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestCachePerformanceBenchmarking" name="test_query_cache_performance_comparison" time="1.379" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestCachePerformanceBenchmarking" name="test_cache_memory_usage_benchmark" time="0.275" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestCacheIntegrationWithRAGPipeline" name="test_end_to_end_cached_query_pipeline" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestCacheIntegrationWithRAGPipeline" name="test_cache_invalidation_on_document_update" time="0.009" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestComprehensivePerformanceBenchmarking" name="test_baseline_vs_enhanced_pipeline_comparison" time="13.368" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestComprehensivePerformanceBenchmarking" name="test_component_level_performance_metrics" time="17.958" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestComprehensivePerformanceBenchmarking" name="test_end_to_end_pipeline_scalability" time="2.313" /><testcase classname="src.research_agent_backend.tests.unit.test_performance_caching.TestComprehensivePerformanceBenchmarking" name="test_realistic_workload_simulation" time="68.168" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryConfig" name="test_query_config_creation_default" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryConfig" name="test_query_config_creation_custom" time="0.002" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestFilterConfig" name="test_filter_config_creation_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestFilterConfig" name="test_filter_config_creation_custom" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestPaginationConfig" name="test_pagination_config_creation_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestPaginationConfig" name="test_pagination_config_creation_custom" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestPerformanceMetrics" name="test_performance_metrics_creation_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestPerformanceMetrics" name="test_performance_metrics_creation_custom" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestPaginationInfo" name="test_pagination_info_creation_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryResult" name="test_query_result_creation_default" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryResult" name="test_query_result_creation_with_data" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_optimizer_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_select_strategy_precise" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_select_strategy_fast" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_select_strategy_balanced" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_analyze_performance_slow_execution" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_analyze_performance_low_threshold" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_analyze_performance_no_optimization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryOptimizer" name="test_analyze_performance_optimal_config" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_initialization" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_generate_key" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_put_and_get" time="0.001"><failure message="AssertionError: assert None == '402619e4460beeb09b096fc33f92471f'&#10; +  where None = QueryResult(results=[{'content': 'test'}], total_results=1, similarity_scores=[], metadata=[], document_ids=[], perfor... collections_searched=[], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).cache_key">src/research_agent_backend/tests/unit/test_query_manager.py:362: in test_cache_put_and_get
    assert cached_result.cache_key == key
E   AssertionError: assert None == '402619e4460beeb09b096fc33f92471f'
E    +  where None = QueryResult(results=[{'content': 'test'}], total_results=1, similarity_scores=[], metadata=[], document_ids=[], perfor... collections_searched=[], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]).cache_key</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_miss" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_size_limit" time="0.001" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_invalidation_all" time="0.000" /><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_invalidation_by_collection" time="0.001"><failure message="AssertionError: assert QueryResult(results=[], total_results=0, similarity_scores=[], metadata=[], document_ids=[], performance_metrics=Perfo...searched=['collection1'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]) is None&#10; +  where QueryResult(results=[], total_results=0, similarity_scores=[], metadata=[], document_ids=[], performance_metrics=Perfo...searched=['collection1'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]) = get('e5bbea7b645b6753d7a2676a0aa71a91')&#10; +    where get = &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557813d0&gt;.get&#10; +      where &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557813d0&gt; = &lt;src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache object at 0x1152c6110&gt;.cache">src/research_agent_backend/tests/unit/test_query_manager.py:425: in test_cache_invalidation_by_collection
    assert self.cache.get(key1) is None
E   AssertionError: assert QueryResult(results=[], total_results=0, similarity_scores=[], metadata=[], document_ids=[], performance_metrics=Perfo...searched=['collection1'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]) is None
E    +  where QueryResult(results=[], total_results=0, similarity_scores=[], metadata=[], document_ids=[], performance_metrics=Perfo...searched=['collection1'], preprocessed_query_text=None, preprocessing_applied=False, managers_involved=[], warnings=[]) = get('e5bbea7b645b6753d7a2676a0aa71a91')
E    +    where get = &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557813d0&gt;.get
E    +      where &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557813d0&gt; = &lt;src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache object at 0x1152c6110&gt;.cache</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache" name="test_cache_ttl_expiration" time="0.001"><failure message="AssertionError: assert True == False&#10; +  where True = is_valid('test_key')&#10; +    where is_valid = &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557c8790&gt;.is_valid&#10; +      where &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557c8790&gt; = &lt;src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache object at 0x1152b5a90&gt;.cache">src/research_agent_backend/tests/unit/test_query_manager.py:445: in test_cache_ttl_expiration
    assert self.cache.is_valid(key) == False
E   AssertionError: assert True == False
E    +  where True = is_valid('test_key')
E    +    where is_valid = &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557c8790&gt;.is_valid
E    +      where &lt;research_agent_backend.core.query_manager.cache.QueryCache object at 0x3557c8790&gt; = &lt;src.research_agent_backend.tests.unit.test_query_manager.TestQueryCache object at 0x1152b5a90&gt;.cache</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestBatchQueryProcessor" name="test_processor_initialization" time="0.000"><failure message="AttributeError: 'BatchQueryProcessor' object has no attribute 'executor'">src/research_agent_backend/tests/unit/test_query_manager.py:462: in test_processor_initialization
    assert self.processor.executor is not None
E   AttributeError: 'BatchQueryProcessor' object has no attribute 'executor'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestBatchQueryProcessor" name="test_process_batch_sequential" time="0.001"><failure message="KeyError: 'execution_strategy'">src/research_agent_backend/tests/unit/test_query_manager.py:482: in test_process_batch_sequential
    assert result["execution_strategy"] == "sequential"
E   KeyError: 'execution_strategy'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestBatchQueryProcessor" name="test_process_batch_parallel" time="0.001"><failure message="KeyError: 'execution_strategy'">src/research_agent_backend/tests/unit/test_query_manager.py:508: in test_process_batch_parallel
    assert result["execution_strategy"] == "parallel"
E   KeyError: 'execution_strategy'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestBatchQueryProcessor" name="test_process_batch_with_failures" time="0.001"><failure message="KeyError: 'successful_queries'">src/research_agent_backend/tests/unit/test_query_manager.py:534: in test_process_batch_with_failures
    assert result["successful_queries"] == 1
E   KeyError: 'successful_queries'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestBatchQueryProcessor" name="test_process_batch_empty_queries" time="0.000"><failure message="KeyError: 'total_queries'">src/research_agent_backend/tests/unit/test_query_manager.py:547: in test_process_batch_empty_queries
    assert result["total_queries"] == 0
E   KeyError: 'total_queries'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_query_manager_initialization" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_query_manager_initialization_minimal" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_basic" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_with_config" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_with_filters" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_with_pagination" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_caching" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_performance_monitoring" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_error_handling" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_similarity_search_graceful_degradation" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_get_available_collections" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_process_batch_queries" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_configure_cache" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_get_cache_statistics" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_cleanup_cache" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManager" name="test_invalidate_cache" time="0.001"><error message="failed on setup with &quot;research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration&quot;">src/research_agent_backend/core/query_manager/manager.py:83: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:564: in setup_method
    self.query_manager = QueryManager(
src/research_agent_backend/core/query_manager/manager.py:62: in __init__
    self._initialize_configuration()
src/research_agent_backend/core/query_manager/manager.py:92: in _initialize_configuration
    raise QueryManagerError("Invalid query configuration")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid query configuration</error></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManagerIntegration" name="test_complex_query_workflow" time="0.005"><failure message="research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection comprehensive_collection: 'Mock' object is not subscriptable">src/research_agent_backend/core/query_manager/manager.py:250: in similarity_search
    ids = search_result["ids"][0] if search_result["ids"] else []
E   TypeError: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/core/query_manager/manager.py:278: in similarity_search
    raise e
src/research_agent_backend/core/query_manager/manager.py:271: in similarity_search
    raise QueryError(f"Failed to query collection {collection}: {e}")
E   research_agent_backend.exceptions.query_exceptions.QueryError: Failed to query collection comprehensive_collection: 'Mock' object is not subscriptable

During handling of the above exception, another exception occurred:
src/research_agent_backend/tests/unit/test_query_manager.py:968: in test_complex_query_workflow
    result = self.query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:408: in similarity_search
    raise QueryManagerError(f"Query execution failed: {e}")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Query execution failed: Failed to query collection comprehensive_collection: 'Mock' object is not subscriptable</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManagerIntegration" name="test_multi_collection_search_with_merging" time="0.003"><failure message="research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension">src/research_agent_backend/tests/unit/test_query_manager.py:1009: in test_multi_collection_search_with_merging
    result = self.query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:151: in similarity_search
    raise QueryManagerError("Invalid embedding dimension")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManagerIntegration" name="test_query_optimization_and_strategy_selection" time="0.003"><failure message="research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension">src/research_agent_backend/tests/unit/test_query_manager.py:1044: in test_query_optimization_and_strategy_selection
    result = self.query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:151: in similarity_search
    raise QueryManagerError("Invalid embedding dimension")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_query_manager.TestQueryManagerIntegration" name="test_error_recovery_and_graceful_degradation" time="0.004"><failure message="research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension">src/research_agent_backend/tests/unit/test_query_manager.py:1076: in test_error_recovery_and_graceful_degradation
    result = self.query_manager.similarity_search(
src/research_agent_backend/core/query_manager/manager.py:151: in similarity_search
    raise QueryManagerError("Invalid embedding dimension")
E   research_agent_backend.exceptions.query_exceptions.QueryManagerError: Invalid embedding dimension</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_basic_functionality" time="0.018" /><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_shows_collection_details" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:125: in test_status_command_shows_collection_details
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_health_check" time="0.012"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:147: in test_status_command_health_check
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_empty_knowledge_base" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:163: in test_status_command_empty_knowledge_base
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_system_metrics" time="0.012"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:184: in test_status_command_system_metrics
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_configuration_info" time="0.001"><failure message="AttributeError: &lt;module 'research_agent_backend.cli.knowledge_base' from '/Users/kermit/Code/reflow/src/research_agent_backend/cli/knowledge_base.py'&gt; does not have the attribute 'get_config_manager'">src/research_agent_backend/tests/unit/test_utility_commands.py:193: in test_status_command_configuration_info
    with patch('research_agent_backend.cli.knowledge_base.get_config_manager') as mock_get_config:
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'research_agent_backend.cli.knowledge_base' from '/Users/kermit/Code/reflow/src/research_agent_backend/cli/knowledge_base.py'&gt; does not have the attribute 'get_config_manager'</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestStatusCommand" name="test_status_command_error_handling" time="0.012" /><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_basic_functionality" time="0.019"><failure message="AssertionError: assert 'Continue with rebuild? (y/N):' in '[10:17:50] INFO     Starting index rebuild operation                            \n\nIndex Rebuild Plan\n=============...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n'&#10; +  where '[10:17:50] INFO     Starting index rebuild operation                            \n\nIndex Rebuild Plan\n=============...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/unit/test_utility_commands.py:279: in test_rebuild_index_basic_functionality
    assert "Continue with rebuild? (y/N):" in result.stdout
E   AssertionError: assert 'Continue with rebuild? (y/N):' in '[10:17:50] INFO     Starting index rebuild operation                            \n\nIndex Rebuild Plan\n=============...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n'
E    +  where '[10:17:50] INFO     Starting index rebuild operation                            \n\nIndex Rebuild Plan\n=============...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_specific_collection" time="0.028"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:300: in test_rebuild_index_specific_collection
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_with_confirm_flag" time="0.034"><failure message="AssertionError: assert 'Successfully rebuilt index' in '[10:17:50] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n'&#10; +  where '[10:17:50] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n' = &lt;Result okay&gt;.stdout">src/research_agent_backend/tests/unit/test_utility_commands.py:322: in test_rebuild_index_with_confirm_flag
    assert "Successfully rebuilt index" in result.stdout
E   AssertionError: assert 'Successfully rebuilt index' in '[10:17:50] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n'
E    +  where '[10:17:50] INFO     Successfully loaded environment variables from              \n                    /Users/kermit/C...dex rebuild completed successfully\n           INFO     Index rebuild operation completed                           \n' = &lt;Result okay&gt;.stdout</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_user_cancellation" time="0.053" /><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_dry_run_mode" time="0.051"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:343: in test_rebuild_index_dry_run_mode
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_progress_tracking" time="0.034" /><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_handles_errors" time="0.033"><failure message="assert 0 != 0&#10; +  where 0 = &lt;Result okay&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:389: in test_rebuild_index_handles_errors
    assert result.exit_code != 0
E   assert 0 != 0
E    +  where 0 = &lt;Result okay&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_validates_collection_exists" time="0.038" /><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestRebuildIndexCommand" name="test_rebuild_index_shows_before_after_stats" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:430: in test_rebuild_index_shows_before_after_stats
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestUtilityCommandIntegration" name="test_status_and_rebuild_workflow" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:454: in test_status_and_rebuild_workflow
    assert status_result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase><testcase classname="src.research_agent_backend.tests.unit.test_utility_commands.TestUtilityCommandIntegration" name="test_utility_commands_respect_global_options" time="0.013"><failure message="assert 1 == 0&#10; +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code">src/research_agent_backend/tests/unit/test_utility_commands.py:482: in test_utility_commands_respect_global_options
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = &lt;Result SystemExit(1)&gt;.exit_code</failure></testcase></testsuite></testsuites>